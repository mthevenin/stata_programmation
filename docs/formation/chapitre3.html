<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="M.Thevenin">

<title>Le langage Stata</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../formation/chapitre5.html" rel="next">
<link href="../formation/chapitre2.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_fr/" rel="">
 <span class="menu-text">Stata Ined</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_graphiques/" rel="">
 <span class="menu-text">Graphiques</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_programmation/" rel="">
 <span class="menu-text">Programmation</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mthevenin" rel=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:marc.thevenin@ined.fr" rel=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="">
 <span class="menu-text">A propos</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Le langage Stata</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Formation introductive</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/chapitre0.html" class="sidebar-item-text sidebar-link">Présentation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/chapitre1.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/chapitre2.html" class="sidebar-item-text sidebar-link">Environnement</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/chapitre3.html" class="sidebar-item-text sidebar-link active">Le langage Stata</a>
  </div>
</li>
          <li class="sidebar-item">
  formation/chapitre4.qmd
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/chapitre5.html" class="sidebar-item-text sidebar-link">Les variables</a>
  </div>
</li>
          <li class="sidebar-item">
  formation/chapitre6.qmd
  </li>
          <li class="sidebar-item">
  formation/chapitre7.qmd
  </li>
          <li class="sidebar-item">
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Fichier profile</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../profile/profile1.html" class="sidebar-item-text sidebar-link">Principe</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../profile/profile2.html" class="sidebar-item-text sidebar-link">Exemple profile.do</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Need for speed</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../speedup/intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../speedup/gtools.html" class="sidebar-item-text sidebar-link">Gtools</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Super Macro World</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../macro/intro.html" class="sidebar-item-text sidebar-link">Présentation</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">C’est dans l’R</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R.html" class="sidebar-item-text sidebar-link">Stata et R</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">Edition des outputs</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tableaux/intro.html" class="sidebar-item-text sidebar-link">Intro - Collect</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#la-syntaxe-générique" id="toc-la-syntaxe-générique" class="nav-link active" data-scroll-target="#la-syntaxe-générique"><span class="toc-section-number">1</span>  La syntaxe générique</a></li>
  <li><a href="#autres-langages-pris-en-charge" id="toc-autres-langages-pris-en-charge" class="nav-link" data-scroll-target="#autres-langages-pris-en-charge"><span class="toc-section-number">2</span>  Autres langages pris en charge</a></li>
  <li><a href="#les-opérateurs" id="toc-les-opérateurs" class="nav-link" data-scroll-target="#les-opérateurs"><span class="toc-section-number">3</span>  Les opérateurs</a></li>
  <li><a href="#les-valeurs-manquantes" id="toc-les-valeurs-manquantes" class="nav-link" data-scroll-target="#les-valeurs-manquantes"><span class="toc-section-number">4</span>  Les valeurs manquantes</a></li>
  <li><a href="#casse-et-troncature" id="toc-casse-et-troncature" class="nav-link" data-scroll-target="#casse-et-troncature"><span class="toc-section-number">5</span>  Casse et troncature</a>
  <ul class="collapse">
  <li><a href="#sensibilité-à-la-casse" id="toc-sensibilité-à-la-casse" class="nav-link" data-scroll-target="#sensibilité-à-la-casse"><span class="toc-section-number">5.1</span>  Sensibilité à la casse</a></li>
  <li><a href="#troncature-des-instructions-et-des-options" id="toc-troncature-des-instructions-et-des-options" class="nav-link" data-scroll-target="#troncature-des-instructions-et-des-options"><span class="toc-section-number">5.2</span>  Troncature des instructions et des options</a></li>
  </ul></li>
  <li><a href="#quietly-et-display" id="toc-quietly-et-display" class="nav-link" data-scroll-target="#quietly-et-display"><span class="toc-section-number">6</span>  quietly et display</a></li>
  <li><a href="#sélection-de-variables" id="toc-sélection-de-variables" class="nav-link" data-scroll-target="#sélection-de-variables"><span class="toc-section-number">7</span>  Sélection de variables</a></li>
  <li><a href="#macros-et-répétition" id="toc-macros-et-répétition" class="nav-link" data-scroll-target="#macros-et-répétition"><span class="toc-section-number">8</span>  Macros et répétition</a>
  <ul class="collapse">
  <li><a href="#introduction-au-macros" id="toc-introduction-au-macros" class="nav-link" data-scroll-target="#introduction-au-macros"><span class="toc-section-number">8.1</span>  Introduction au macros</a></li>
  <li><a href="#répétition-les-boucles" id="toc-répétition-les-boucles" class="nav-link" data-scroll-target="#répétition-les-boucles"><span class="toc-section-number">8.2</span>  Répétition: les boucles</a></li>
  <li><a href="#répétition-dune-instruction-avec-foreach" id="toc-répétition-dune-instruction-avec-foreach" class="nav-link" data-scroll-target="#répétition-dune-instruction-avec-foreach"><span class="toc-section-number">8.3</span>  Répétition d’une instruction avec foreach</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Le langage Stata</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>M.Thevenin </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell">

</div>
<section id="la-syntaxe-générique" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> La syntaxe générique</h1>
<p><strong>Remarque sur les crochets</strong></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
[…] dans les commandes et les fichiers d’aide
</div>
</div>
<div class="callout-body-container callout-body">
<p>A ma connaissance, à l’exception des pondérations il n’y a pas d’utilisation de crochets dans la syntaxe des commandes usines. Dans les fichiers d’aide et pour cette formation, ils indiquent les expressions optionnelles d’une ligne d’instruction.</p>
</div>
</div>
<p>Forme concise de la syntaxe STATA pour une instruction portant sur des variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>nom_command <span class="kw">varlist</span> [, options ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><em>Exemple</em></strong> : <strong><code>tabulate var1 var2, nofreq row</code></strong></p>
<p>Ce qui ce traduit par: produire un tableau croisé entre <em>var1</em> (en ligne) et la <em>var2</em> (en colonne) en affichant la répartition en % de <em>var2</em> pour chaque valeur de <em>var1</em> et pour l’ensemble des donnnées renseignées .</p>
<div class="cell" data-collectcode="true">
<div class="cell-output cell-output-stdout">
<pre><code>(1978 automobile data)</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> rep78 foreign, nofreq <span class="ot">row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>    Repair |
    record |      Car origin
      1978 |  Domestic    Foreign |     Total
-----------+----------------------+----------
         1 |    100.00       0.00 |    100.00 
         2 |    100.00       0.00 |    100.00 
         3 |     90.00      10.00 |    100.00 
         4 |     50.00      50.00 |    100.00 
         5 |     18.18      81.82 |    100.00 
-----------+----------------------+----------
     Total |     69.57      30.43 |    100.00 </code></pre>
</div>
</div>
<ul>
<li>Forme générique de la syntaxe STATA</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>[<span class="kw">prefix</span>:] command <span class="kw">varlist</span> [ [type_weight=<span class="kw">var</span>] <span class="kw">if</span>/<span class="kw">in</span>, options]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Expression conditionnelle (sélection): <code>if</code> (sélection de valeurs) ou <code>in</code> (sélection d’observations)</p>
<p>Exemple : <strong>`bysort var2: summarize var1 if var4!=1, detail</strong><br>
Ce qui ce traduit par: pour chaque valeur de <em>var2</em>, des statistiques descriptives détaillées pour la variable <em>var1</em> si la valeur de <em>var3</em> est différente de 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">bysort</span> foreign: <span class="kw">summarize</span> price <span class="kw">if</span> rep78!=1, <span class="kw">detail</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>-&gt; foreign = Domestic

                            Price
-------------------------------------------------------------
      Percentiles      Smallest
 1%         3291           3291
 5%         3667           3299
10%         3892           3667       Obs                  50
25%         4181           3799       Sum of wgt.          50

50%       4782.5                      Mean            6132.74
                        Largest       Std. dev.      3143.481
75%         6303          13466
90%        11441          13594       Variance        9881473
95%        13594          14500       Skewness       1.717717
99%        15906          15906       Kurtosis       4.857758

-------------------------------------------------------------------------------
-&gt; foreign = Foreign

                            Price
-------------------------------------------------------------
      Percentiles      Smallest
 1%         3748           3748
 5%         3798           3798
10%         3895           3895       Obs                  22
25%         4499           3995       Sum of wgt.          22

50%         5759                      Mean           6384.682
                        Largest       Std. dev.      2621.915
75%         7140           9690
90%         9735           9735       Variance        6874439
95%        11995          11995       Skewness       1.215236
99%        12990          12990       Kurtosis       3.555178</code></pre>
</div>
</div>
<p>Si la commande implique une base de données, le nom de la base est généralement précédée de <strong>`using``</strong> (sauf pour les instructions officielle d’ouverture/sauvegarde d’une base):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>command <span class="kw">using</span> nom_base [,options]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="autres-langages-pris-en-charge" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Autres langages pris en charge</h1>
<p><br></p>
<p><em>interne</em></p>
<ul>
<li>Programmation d’une commande (création d’un .ado) avec certains des éléments de langage dédié</li>
<li>Langage matriciel (MATA)</li>
<li>Editeur de texte (SMCL) pour rédiger les aides ou paramétrer la forme des outputs (c’est une une horreur)</li>
<li>Création de boites de dialogue (proche du Java)</li>
</ul>
<p><em>Externe</em></p>
<ul>
<li>Via une commande externe (<code>rsource</code>), on peut exécuté du R.</li>
</ul>
<div class="cell" data-collectcode="true">
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>rsource, terminator(END_OF_R) </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>1+1</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>END_OF_R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>Assumed R program path: "C:\Program Files\R\R-4.1.2\bin\R.exe"
Beginning of R output

R version 4.1.2 (2021-11-01) -- "Bird Hippie"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R est un logiciel libre livr&lt;e9&gt; sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de d&lt;e9&gt;tails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la fa&lt;e7&gt;on de le citer dans les publications.

Tapez 'demo()' pour des d&lt;e9&gt;monstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

&gt; 1+1
[1] 2
&gt; 
End of R output</code></pre>
</div>
</div>
<ul>
<li>Dépuis la version 16 on peut programmer intéractivement en Python avec Stata. Cette intégration permet à Python de reconnaitre les macros stata dans son code…c’est très utile. Python doit néanmoins être installé manuellement.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>* Vérification <span class="kw">de</span> l'installation</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>python <span class="kw">query</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>* utilisation <span class="kw">de</span> python</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>python: </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>1+1</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>    Python Settings
      set python_exec      C:/Users/thevenin_m/AppData/Local/Programs/Python/Py
&gt; thon310/python.exe
      set python_userpath  

    Python system information
      initialized          yes
      version              3.10.5
      architecture         64-bit
      library path         C:\Users\thevenin_m\AppData\Local\Programs\Python\Py
&gt; thon310\python310.dll

----------------------------------------------- python (type end to exit) -----
&gt;&gt;&gt; 1+1
2
&gt;&gt;&gt; end
-------------------------------------------------------------------------------</code></pre>
</div>
</div>
<ul>
<li>Intégration de l’édition en markdown pour produire des rapports en html ou pdf. Egalement possibilité de générer des documents word ou excel avec des commandes dédiées. L’intégration de latex est également possible via une commande externe. Toutes ces possibilité me semble néanmoins nettement en deçà de ce qui est réalisable avec <strong>RStudio</strong> en particulier avec le nouvel outil <code>Quarto</code> associé à <code>Statamarkdown</code>… utilisé pour faire ce support.</li>
</ul>
</section>
<section id="les-opérateurs" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Les opérateurs</h1>
<table class="table">
<thead>
<tr class="header">
<th><strong>Opérateurs</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong><code>&amp;</code></strong> <strong>Et</strong></td>
</tr>
<tr class="even">
<td><strong><code>|</code></strong> [Alt+Gr6] <strong>Ou</strong></td>
</tr>
<tr class="odd">
<td><strong>Opérateurs d’affectation</strong></td>
</tr>
<tr class="even">
<td><strong><code>=</code></strong></td>
</tr>
<tr class="odd">
<td><strong>Opérateurs pour expressions conditionnelles</strong></td>
</tr>
<tr class="even">
<td><strong><code>==</code></strong></td>
</tr>
<tr class="odd">
<td><strong><code>!=</code></strong></td>
</tr>
<tr class="even">
<td><strong><code>&gt;</code></strong></td>
</tr>
<tr class="odd">
<td><strong><code>&gt;=</code></strong></td>
</tr>
<tr class="even">
<td><strong><code>&lt;</code></strong></td>
</tr>
<tr class="odd">
<td><strong><code>&lt;=</code></strong></td>
</tr>
<tr class="even">
<td><strong>Opérateurs arithmétique</strong></td>
</tr>
<tr class="odd">
<td><code>+</code> , <code>-</code> , <code>/</code> , ^ (puissance)</td>
</tr>
<tr class="even">
<td><strong>Opérateur chaîne de caractères</strong></td>
</tr>
<tr class="odd">
<td><code>+</code></td>
</tr>
</tbody>
</table>
<p><code>+</code> concatène des variables caractères qui n’ont pas de valeur manquante. Sinon utiliser la focntion <strong><code>concat</code></strong> associée à la fonctio n <strong><code>egen</code></strong> (voir chapitre sur la création de variables).</p>
</section>
<section id="les-valeurs-manquantes" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Les valeurs manquantes</h1>
<p><strong>Statut des valeurs manquantes (très important)</strong>:<br>
Elles prennent la plus grande valeur possible, aucune valeur de la base de données d’une variable ne peut-être plus élevée. Ceci doit être pris en compte dans les expressions conditionnelles impliquant par exemple des regroupement de variables ordinales ou quantitatives:<br>
Si une variable numérique <span class="math inline">\(x\)</span> a des valeurs manquantes, la condition <code>if X&gt;valeur</code> conservera ces informations manquantes.</p>
<p>Si <span class="math inline">\(X=(1, 2, 3, 4, 5, 6, .)\)</span>:</p>
<ul>
<li><code>...if x&gt;4</code> conserve <span class="math inline">\(x=(5,6,.)\)</span><br>
</li>
<li><code>...if x&gt;4 &amp; x&lt;.$</code> ou <code>...if x&gt;4 &amp; x!=.</code> conserve seulement <span class="math inline">\(x=(5,6)\)</span></li>
</ul>
<p><strong>Les valeurs manquantes utilisateurs</strong><br>
On peut rendre la valeur manquante informative en lui ajoutant une lettre: <strong>.a</strong> , <strong>.b</strong>, <strong>.c</strong> etc….<br>
Exemple: <em>.a</em> = Ne sait pas, <em>.b</em>=Refus , <em>.c</em>=Pas de réponse.</p>
</section>
<section id="casse-et-troncature" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Casse et troncature</h1>
<section id="sensibilité-à-la-casse" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="sensibilité-à-la-casse"><span class="header-section-number">5.1</span> Sensibilité à la casse</h2>
<p>Comme R ou Python Stata est intégralement sensible à la casse pour les instructionsoù il ne comprend que les minuscules. Par exemple <code>TABULATE X</code> renverra un message d’erreur.</p>
</section>
<section id="troncature-des-instructions-et-des-options" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="troncature-des-instructions-et-des-options"><span class="header-section-number">5.2</span> Troncature des instructions et des options</h2>
<p>Dans l’aide interne, le niveau de troncature est indiqué par un soulignement dans l’instruction: par exemple <strong><code>tabulate</code></strong> est souligné au niveau de <strong>ta</strong> : <strong>tabulate</strong> = <strong>tabulat</strong> = <strong>tabula</strong> = <strong>tabul</strong> = <strong>tabu</strong> = <strong>tab</strong> = <strong>ta</strong>. On utilise généralement <code>tabulate</code> ou <code>tab</code>.</p>
<p>Remarque: les commandes externes peuvent également paramétrer le degré de troncature de la syntaxe.</p>
<p>A manier avec une certaine précaution car le programme peut devenir rapidement incompréhensible, surtout s’il est partagé:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> var1 var2, nofreq <span class="ot">row</span> miss  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>* <span class="kw">est</span> équivalent à: </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>ta var1 var2, nof <span class="fu">r</span> <span class="fu">m</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="quietly-et-display" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> quietly et display</h1>
<p><strong>En silence…. quietly (qui)</strong><br>
On peut rendre le résultat d’une commande invisible dans la fenêtre output avec <code>quietly</code> (<code>qui</code>).<br>
<br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto.dta</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">tab</span> rep78</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">tab</span> rep78</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>(1978 automobile data)

     Repair |
record 1978 |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          2        2.90        2.90
          2 |          8       11.59       14.49
          3 |         30       43.48       57.97
          4 |         18       26.09       84.06
          5 |         11       15.94      100.00
------------+-----------------------------------
      Total |         69      100.00</code></pre>
</div>
</div>
<p>Remarque: ne fonctionne pas avec les graphiques où l’on doit utiliser l’option <code>nodraw</code></p>
<p><strong>displa (di)</strong></p>
<p>Ce n’est pas une commande à proprement parler, mais l’instruction <code>display</code> (<code>di</code>) permet d’afficher dans l’output, entres autres, des opérations arithmétiques (c’est donc une calculatrice.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span> <span class="fu">exp</span>(1)/(1+<span class="fu">exp</span>(1))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span> <span class="st">"SALUT!!!!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>.73105858

SALUT!!!!</code></pre>
</div>
</div>
<p>Elle est également utilisé pour vérifier le contenu d’une macro variable, de préférence lorsque cette macro implique des valeurs</p>
</section>
<section id="sélection-de-variables" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Sélection de variables</h1>
<p>On peut sélectionner un ensemble de variables qui ont une racine commune, par exemple <strong>c</strong>, en écrivant : <code>*c*</code>.<br>
Exemple:<br>
television, telephone, table ont comme racine <strong>t</strong>. Pour supprimer ces variables, on peut exécuter <code>drop t*</code> au lieu de <code>drop television telephone table</code>.<br>
Si on veut supprimer television et telephone seulement : <code>drop tele*</code>.</p>
<p>Si on veut sélectionner des variables occurencées ou dans comme la base <em>auto</em> les 5 variables qui se suivent [headroom, trunk, weight, length, turn]: <code>keep headroom-turn</code> . Pour des variables occurencées de x1 à x5: <code>keep x1-x5</code>.</p>
</section>
<section id="macros-et-répétition" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Macros et répétition</h1>
<section id="introduction-au-macros" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="introduction-au-macros"><span class="header-section-number">8.1</span> Introduction au macros</h2>
<p>Juste une introduction…Vu la simplicité du langage Stata, il est conseiller de se mettre rapidement à la manipulation des expressions dites <code>macro</code>.</p>
<ul>
<li>Une macro, dans sa version la plus simple, est une expression qui est utilisée une ou plusieurs fois dans un programme. Elle sont de type temporaire (<code>local</code>) ou enregistré en dur (<code>global</code>).</li>
<li>Les commandes, en particulier sur les opérations statistiques enregistré un certains nombre d’objet de type macro qui peuvent être utilisés ultérieurement.<br>
</li>
<li>Un autre type d’objets, appelé <strong><code>scalar</code></strong> ressemble à des macros mais n’en sont pas. Il s’agit de pseudo variables. Ils ne seront pas traités.</li>
<li>Le contenu d’une macro peut être affiché avec <code>display</code> ou <code>macro list</code> (<code>mac list</code>)
<ul>
<li>privilégier <code>display</code> pour afficher le contenu d’une macro de type valeur</li>
<li>privilégier <code>mac list</code> pour afficher le contenu d’une macro de type chaîne de caractère lorsque des doubles quotes (“) doivent rester apparentes. La gestion des” dans les macros peut s’avérer particulièrement retord.</li>
</ul></li>
</ul>
<p><strong>Macro temporaire</strong></p>
<p>L’instruction <code>local</code> permet de définir des macros variables temporaire (disparaissent après l’exécution du programme):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> nom_macro expression</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Le nom de la macro dans l’expression sera indiquée dans la suite du programme par `<code>nom_macro'</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> a 2</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span> 5^(<span class="ot">`a'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>25</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="kw">var</span> price mpg</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> <span class="ot">`var'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre class="result"><code>    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
       price |         74    6165.257    2949.496       3291      15906
         mpg |         74     21.2973    5.785503         12         41</code></pre>
</div>
</div>
<p>On en voit tout de suite l’utilité: si je veux changer la liste de variable pour les instructions <code>sum</code> (troncature de <code>summarize</code>) et pour <code>regress</code>, je le fais une fois (dans la définition de la macro) au lieu de deux.</p>
<p>Avec Stata peut définir égalementdes macros dites <em>global</em> qui sont sauvegardées et s’appliqueront à tous les programmes (on peut les supprimer). Leur utilisation est moins courante: <code>global nom_macro expression</code>, le nom de la macro dans l’expression s’écrira <code>$nom_macro</code></p>
<pre><code>sysuse auto.dta
global x mpg weight length turn headroom trunk
sum $x
reg price $x
macro drop x</code></pre>
<p>La liste des macro enregistrée est donnée par l’instruction: <code>macro dir</code></p>
</section>
<section id="répétition-les-boucles" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="répétition-les-boucles"><span class="header-section-number">8.2</span> Répétition: les boucles</h2>
<p>Petite introduction au boucles pour des variables occurencées.</p>
<p><strong>forvalues</strong><br>
<code>for num 1/n:</code> est de plus en plus abandonnée (aide Stata supprim?e). On lui préfère maintenant l’instruction <code>forvalues</code> pour effectuer des boucles numériques.<br>
Avec l’exemple précédent:</p>
<pre><code>forvalues i=1/9 {
rename var`i' q`i' 
}</code></pre>
</section>
<section id="répétition-dune-instruction-avec-foreach" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="répétition-dune-instruction-avec-foreach"><span class="header-section-number">8.3</span> Répétition d’une instruction avec foreach</h2>
<p>Par l’exemple. On veut faire une régression linéaire entre la variable price (Y) et la variable foreign + une seule autre variable dans cette liste: mpg, headroom, trunk, weight, length, turn. Au lieu d’exécuter:</p>
<pre><code>regress price foreign mpg      
regress price foreign headroom 
regress price foreign trunk    
regress price foreign weight   
regress price foreign length   
regress price foreign turn     </code></pre>
<p>On génère une macro variable locale, et on exécute une boucle avec l’instruction <code>foreach</code></p>
<pre><code>sysuse auto.dta
local x mpg weight length turn headroom trunk
foreach i of local x {
regress price foreign `i', noheader
}

------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  1767.2922   700.1580     2.52   0.014     371.2169   3163.3676
         mpg |  -294.1955    55.6917    -5.28   0.000    -405.2417   -183.1494
       _cons |   1.19e+04  1158.6345    10.28   0.000    9595.1638    1.42e+04
------------------------------------------------------------------------------
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  3637.0013   668.5830     5.44   0.000    2303.8848   4970.1178
      weight |     3.3207     0.3959     8.39   0.000       2.5314      4.1101
       _cons |  -4.94e+03  1345.5909    -3.67   0.000    -7.63e+03   -2.26e+03
------------------------------------------------------------------------------
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  2801.1429   766.1170     3.66   0.000    1273.5489   4328.7369
      length |    90.2124    15.8337     5.70   0.000      58.6409    121.7839
       _cons |  -1.16e+04  3124.4362    -3.72   0.000    -1.79e+04   -5.39e+03
------------------------------------------------------------------------------
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  2600.2753   879.8548     2.96   0.004     845.8946   4354.6560
        turn |   379.2366    92.0360     4.12   0.000     195.7220    562.7512
       _cons |  -9.64e+03  3832.2964    -2.52   0.014    -1.73e+04   -2.00e+03
------------------------------------------------------------------------------
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |   577.8125   787.5659     0.73   0.466    -992.5493   2148.1743
    headroom |   491.5752   428.4054     1.15   0.255    -362.6409   1345.7913
       _cons |  4522.0705  1412.0966     3.20   0.002    1706.4299   7337.7111
------------------------------------------------------------------------------
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  1190.1550   760.8049     1.56   0.122    -326.8468   2707.1568
       trunk |   262.7717    81.8519     3.21   0.002      99.5636    425.9797
       _cons |  2196.5410  1267.8569     1.73   0.088    -331.4939   4724.5760
------------------------------------------------------------------------------


</code></pre>
<p>….et on peut aller plus loin (je me lache un peu): on ajoute une variable à chaque modèle</p>
<pre><code>local x mpg weight length turn headroom trunk
foreach i of local x {
local j `j' `i'
di "`j'"  // pour afficher ce qui est lu dans la macro
regress price foreign `j', noheader
}
mpg
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  1767.2922   700.1580     2.52   0.014     371.2169   3163.3676
         mpg |  -294.1955    55.6917    -5.28   0.000    -405.2417   -183.1494
       _cons |   1.19e+04  1158.6345    10.28   0.000    9595.1638    1.42e+04
------------------------------------------------------------------------------
mpg weight
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  3673.0604   683.9783     5.37   0.000    2308.9087   5037.2120
         mpg |    21.8536    74.2211     0.29   0.769    -126.1758    169.8830
      weight |     3.4647     0.6307     5.49   0.000       2.2067      4.7227
       _cons |  -5.85e+03  3376.9874    -1.73   0.087    -1.26e+04    881.4934
------------------------------------------------------------------------------
mpg weight length
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  3550.1937   655.4564     5.42   0.000    2242.5940   4857.7934
         mpg |   -13.4072    72.1076    -0.19   0.853    -157.2579    130.4436
      weight |     5.7162     1.0161     5.63   0.000       3.6891      7.7432
      length |   -92.4802    33.5912    -2.75   0.008    -159.4928    -25.4676
       _cons |  5515.5801  5241.9413     1.05   0.296    -4.94e+03    1.60e+04
------------------------------------------------------------------------------
mpg weight length turn
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  3273.4076   687.0594     4.76   0.000    1902.4019   4644.4132
         mpg |   -22.7625    72.1391    -0.32   0.753    -166.7138    121.1888
      weight |     5.9182     1.0235     5.78   0.000       3.8758      7.9605
      length |   -78.7834    35.0935    -2.24   0.028    -148.8113     -8.7554
        turn |  -149.7014   116.5489    -1.28   0.203    -382.2711     82.8683
       _cons |  8548.5680  5726.8988     1.49   0.140    -2.88e+03    2.00e+04
------------------------------------------------------------------------------
mpg weight length turn headroom
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  3250.9587   680.1387     4.78   0.000    1893.3962   4608.5213
         mpg |   -24.6578    71.4068    -0.35   0.731    -167.1863    117.8706
      weight |     5.8983     1.0130     5.82   0.000       3.8763      7.9203
      length |   -67.2666    35.5118    -1.89   0.063    -138.1483      3.6152
        turn |  -159.0932   115.5067    -1.38   0.173    -389.6456     71.4591
    headroom |  -505.3365   324.7006    -1.56   0.124    -1.15e+03    142.7685
       _cons |  8376.2453  5669.0187     1.48   0.144    -2.94e+03    1.97e+04
------------------------------------------------------------------------------
mpg weight length turn headroom trunk
------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     foreign |  3212.1455   685.5784     4.69   0.000    1843.3439   4580.9470
         mpg |   -24.2206    71.7140    -0.34   0.737    -167.4021    118.9610
      weight |     5.9276     1.0183     5.82   0.000       3.8944      7.9608
      length |   -74.9821    37.5416    -2.00   0.050    -149.9362     -0.0279
        turn |  -157.7407   116.0169    -1.36   0.179    -389.3759     73.8945
    headroom |  -625.4248   373.6911    -1.67   0.099    -1.37e+03    120.6736
       trunk |    60.9357    92.6166     0.66   0.513    -123.9792    245.8507
       _cons |  9207.5123  5831.6742     1.58   0.119    -2.44e+03    2.09e+04
------------------------------------------------------------------------------</code></pre>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../formation/chapitre2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Environnement</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../formation/chapitre5.html" class="pagination-link">
        <span class="nav-page-text">Les variables</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Marc Thévenin - Ined-Sms - Août 2022</div>
  </div>
</footer>



</body></html>