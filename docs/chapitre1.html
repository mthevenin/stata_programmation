<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Programmation avec Stata - 1&nbsp; Présentation de Stata</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./chapitre2.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Programmation avec Stata</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_fr/index.html" rel="" target="">
 <span class="menu-text">Stata Ined</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_fr/articles/" rel="" target="">
 <span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-formations" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Formations</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-formations">    
        <li>
    <a class="dropdown-item" href="https://mthevenin.github.io/stata_programmation/" rel="" target="">
 <span class="dropdown-text">Formation initiale</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://mthevenin.github.io/stata_graphiques/" rel="" target="">
 <span class="dropdown-text">Graphiques</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://github.com/mthevenin/stata_programmation" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./stata_programmation.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./chapitre1.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">**Présentation de Stata**</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Recherche"></div>
        </div>
        </div>
        <div class="sidebar-tools-collapse">
    <a href="https://github.com/mthevenin" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="mailto:marc.thevenin@ined.fr" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Présentation de la formation</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>Présentation de Stata</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title"><strong>L’environnement</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title"><strong>Le langage Stata</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title"><strong>Les bases de données</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title"><strong>Les variables</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title"><strong>Manipulations des bases de données</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapitre7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Analyse statistique avec Stata</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#petit-historique-de-stata" id="toc-petit-historique-de-stata" class="nav-link active" data-scroll-target="#petit-historique-de-stata"><span class="header-section-number">1.1</span> <strong>Petit historique de Stata</strong></a>
  <ul class="collapse">
  <li><a href="#a-lined" id="toc-a-lined" class="nav-link" data-scroll-target="#a-lined"><span class="header-section-number">1.1.1</span> A l’Ined</a></li>
  </ul></li>
  <li><a href="#versions-stata-à-lined" id="toc-versions-stata-à-lined" class="nav-link" data-scroll-target="#versions-stata-à-lined"><span class="header-section-number">1.2</span> <strong>Versions Stata à l’Ined</strong></a></li>
  <li><a href="#les-ressources" id="toc-les-ressources" class="nav-link" data-scroll-target="#les-ressources"><span class="header-section-number">1.3</span> <strong>Les ressources</strong></a>
  <ul class="collapse">
  <li><a href="#les-ressources-externes" id="toc-les-ressources-externes" class="nav-link" data-scroll-target="#les-ressources-externes"><span class="header-section-number">1.3.1</span> Les ressources externes</a></li>
  <li><a href="#les-ressources-internes" id="toc-les-ressources-internes" class="nav-link" data-scroll-target="#les-ressources-internes"><span class="header-section-number">1.3.2</span> Les ressources internes</a></li>
  </ul></li>
  <li><a href="#les-users-packages" id="toc-les-users-packages" class="nav-link" data-scroll-target="#les-users-packages"><span class="header-section-number">1.4</span> <strong>Les users packages</strong></a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/mthevenin/stata_programmation/edit/main/chapitre1.qmd" class="toc-action">Modifier cette page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>Présentation de Stata</strong></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="petit-historique-de-stata" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="petit-historique-de-stata"><span class="header-section-number">1.1</span> <strong>Petit historique de Stata</strong></h2>
<p>L’entreprise <strong>Stata Corp Lp</strong> a été fondée par William Gould. Il est toujours à la tête de l’entreprise.</p>
<ul>
<li>Première version (sous MS Dos) en janvier 1985.<br>
</li>
<li>Première version Windows en 1995 [Stata 4].<br>
</li>
<li>La version la plus récente est la 18 [avril 2023].</li>
<li>Le rythme de changement de version est de 2 ans. Attention tout de même, il s’agit plutôt de grosses mises à jour, dont l’acquisition systématique est dispensable.</li>
</ul>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Versions 18 et 17
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Version 18</strong></p>
<ul>
<li>Une autosave des programmes (enfin)</li>
<li>Nouveau format .dtas pour enregistrer une liste de frames générées dans un programme.</li>
<li>Graphiques:
<ul>
<li>Nouvelle palette qualitative et nouveau thème par défaut (enfin). Vous trouverez une courte présentation et quelques visuels ici [[Lien][https://mthevenin.github.io/stata_fr/articles/index/posts/palette_style/palette_style.html]]</li>
<li>Une nouvelle option <code>colorvar</code> (cf <code>fill</code>, <code>color</code> dans R ou python) qui permet d’empiler automatiquement ou presque plusieurs objets graphiques (autrefois un objet par valeur dans une expression conditionnelle.</li>
</ul></li>
<li>Non testé: une commande <em>dtable</em> pour générer et exporter des tableaux de statistiques descriptives.</li>
</ul>
<p>On peut consulter la liste des mises à jour sur le site officiel: [<a href="https://www.stata.com/new-in-stata/">Lien</a>]</p>
<p><strong>Version 17</strong></p>
<p>Une rapide présentation a été faite il y a plus d’un an [<a href="https://www.stata.com/new-in-stata/">Lien</a>].</p>
<p>En résumé pour la version 17:</p>
<ul>
<li>Amélioration de la vitesse d’exécution (je confirme)</li>
<li>Suite <strong><code>collect</code></strong> pour générer des outputs des commandes statistiques et exportables dans plusieurs formats (.doc, .xlsx, .tex, .html, .md). Rapidement testé pour des régressions, c’est plutôt pas mal même si, comme d’habitude avec Stata <em>qui se raccroche aux branche</em>, cela peut vite tourner à l’usine à gaz [<a href="https://mthevenin.github.io/stata_fr/articles/index/posts/collect/collect.html">rapide présentation</a>]</li>
</ul>
</div>
</div>
<p><strong>Mise à jour d’une version</strong></p>
<p>Régulièrement Stata corrige des bugs ou autres erreurs. On peut obtenir la liste des mises à jour en tapant dans la fenêtre de commande <code>update query</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>Update status</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    Last check for updates:  30 Aug 2023</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    New update available:    13 Jul 2023  (what's new)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    Current update level:    15 May 2023  (what's new)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>Possible actions</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="in">    Install available updates             (or type -update all-)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="a-lined" class="level3 callout-import" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="a-lined"><span class="header-section-number">1.1.1</span> A l’Ined</h3>
<p>Pour réaliser la mise à jour, vous devrez vous mettre sur votre compte administrateur (adm_nom). Si vous le connaissez pas le nom de votre compte administrateur et/ou le mot de passe, contacter le service informatique.</p>
</section>
</section>
<section id="versions-stata-à-lined" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="versions-stata-à-lined"><span class="header-section-number">1.2</span> <strong>Versions Stata à l’Ined</strong></h2>
<ul>
<li>Version 18 Window SE est normalement en cours de déploiement. La version 17 Windows SE a été déployée au printemps 2022.<br>
</li>
<li>Version 17 SE sous Linux (serveur margaux).</li>
</ul>
<p>Petit rappel pour l’Ined pour Sas et Stata: Quel que soit le logiciel choisi sous environnement Windows (SAS v9.4 ou Stata) vous avez accès à une version de l’autre application sous Linux via le serveur Margaux (SAS Studio ou STATA v17 SE).</p>
<p><strong>Version SE: Standard Edition</strong></p>
<ul>
<li>Nombre d’observations: 2.14 milliards</li>
<li>Nombre de variables dans les bases: 32 767</li>
<li>Nombre de variables RHS (limite nombre de colonnes des matrices: 10998)</li>
</ul>
<p>Il existe également des versions dites MP (Multiple Process), dont la plus puissante gère 120000 variables et 20 milliards d’observations).</p>
</section>
<section id="les-ressources" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="les-ressources"><span class="header-section-number">1.3</span> <strong>Les ressources</strong></h2>
<section id="les-ressources-externes" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="les-ressources-externes"><span class="header-section-number">1.3.1</span> Les ressources externes</h3>
<ul>
<li><p>Les manuels édités par STATA. Certains, anciennement à la bibliothèque de l’Ined, sont disponibles au GED [http://www.stata.com/bookstore/books-on-stata]</p></li>
<li><p>*<strong>Stata Journal</strong>, la revue trimestrielle éditée par Stata [http://www.stata-journal.com]. Depuis 2015 accès total aux versions PDF (via portail GED maintenant). L’accès et le sommaire des 4 derniers numéro est disponible ici: <a href="https://mthevenin.github.io/stata_fr/Stata_journal.html">Lien</a></p></li>
<li><p>Une chaîne Youtube [http://www.youtube.com/user/statacorp/videos?view=0] qui propose des tutoriels via les manipulations par les boites de dialogue.</p></li>
<li><p>Un forum particulièrement actif (<a href="https://www.statalist.org/" class="uri">https://www.statalist.org/</a>)</p></li>
</ul>
</section>
<section id="les-ressources-internes" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="les-ressources-internes"><span class="header-section-number">1.3.2</span> Les ressources internes</h3>
<ul>
<li><p>Le manuel de Stata est directement intégré au logiciel. Pour y accéder à partir du menu : <code>help =&gt; PDF documentation</code>. <strong><em>Il est vraiment de très bonne qualité</em></strong> et reconnu comme tel.</p></li>
<li><p>Pour une instruction, on peut obtenir son aide en tapant dans la fenêtre <em>command</em> de l’environnement principal <strong><code>help nom_commande</code></strong>.</p>
<ul>
<li>Pour les commandes internes, un lien permet d’accéder à l’entrée du manuel officiel.<br>
</li>
<li>Dans les fenêtres de dialogue, on peut accéder directement au fichier d’aide en cliquant sur le point d’interrogation.</li>
</ul></li>
</ul>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Utiliser l'aide interne</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span> <span class="kw">generate</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>L’animation suivante n’est bien évidemment pas disponible en format pdf</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="gifanime/anim1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="gifanime/anim1.gif" class="img-fluid figure-img"></a></p>
</figure>
</div>
<p>L’aide comprend généralement:</p>
<ul>
<li><p>Le nom de la commande</p></li>
<li><p>Le lien vers l’entrée du manuel si commande officielle. Pour les commandes externes, un lien vers le site support peut-être proposé.</p></li>
<li><p>La description de la syntaxe</p></li>
<li><p>Le détail des options</p></li>
<li><p>Des exemples avec éventuellement une exécution directe (voir avec <code>help tw</code>)</p></li>
<li><p>Les informations sauvegardées temporairement (jusqu’à l’exécution d’une autre commande) =&gt; <em>stored results</em>. C’est informations peuvent être des valeurs, des matrices, qui pourront être réutilisés dans la suite d’un programme (voir le chapitre sur la syntaxe).</p></li>
<li><p>L’instruction <code>findit nom_command</code> permet d’obtenir la liste de toutes les ressources disponibles d’une commande, internes ou externes. Exemple: <code>findit fitstat</code></p></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning: compatibilité entre les versions
</div>
</div>
<div class="callout-body-container callout-body">
<p>Des problèmes de compatibilité entre les versions de Stata se sont posés. Cela affecte la lecture des bases entre les différentes versions du logiciel. Le dernier cas en date est maintenant assez ancien (version 14).</p>
<p>Version 14: refonte total du système d’encodage vers le standard UTF8.<br>
Les versions inférieures de Stata ne peuvent pas ouvrir les bases au format actuel, qui doivent être enregistrées avec une commande particulière (<code>saveold</code>) sous Stata 14 à 17. Les accents ne sont pas lu après cette conversion, et ce qui nécessite d’exécuter un programme pour les convertir (au secours!!!!).<br>
A l’Ined, depuis le déploiement de la version 14 et le passage à la version 15 Linux, il n’y a plus de problème.</p>
<p>On peut également regréter que Stata n’offre pas un certain niveau de rétrocompatibilité avec, au moins avec la version précédente. Par exemple la nouvelle palette de couleurs et le nouveau thème pour les graphiques par défaut, aurait pu être proposés comme maj aux versions 16 ou 17.</p>
</div>
</div>
</section>
</section>
<section id="les-users-packages" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="les-users-packages"><span class="header-section-number">1.4</span> <strong>Les users packages</strong></h2>
<p>Stata fonctionne avec un système hybride de commandes officielles ou usines et de commandes externes (idem R, Python…).<br>
Commandes externes ou <em>user package</em>:</p>
<ul>
<li><p>Il s’agit d’instructions créees par les utilisateurs</p></li>
<li><p>Ces instructions couvrent le data management et l’analyse statistique (descriptive, modélisation, graphiques)</p></li>
<li><p>Même syntaxe que les instructions officielles</p></li>
<li><p>La liste (triée par année) de ces instructions se trouve à cette adresse [http://ideas.repec.org/s/boc/bocode.html]. Elle n’est pas exhaustive, seulement celles sur le dépôt de Stata. Les dépôts dans les gits, en particulier <em>Github</em> tendent à se développer. Tout comme R, les dépôts usines ne sont pas forcément les plus à jour.</p></li>
</ul>
<p><strong>Installation directe d’une commande externe</strong><br>
Pour télécharger un package, on peut utiliser la ligne de commande:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Installation d'une commande</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ssc</span> install nom_commande, <span class="kw">replace</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<ul>
<li>Il est possible d’installer un package après avoir consulté les fichiers avec la commande <code>findit</code>.</li>
<li>On peut également consulter le fichier d’aide de lacommande avant de l’installer.</li>
</ul>
<p>Les programmes des packages externes se trouvent dans un répertoire spécifique <strong>plus/ado</strong>, souvent installé dans la racine du lecteur <code>C:</code>. On peut déplacer ce répertoire, et c’est conseillé si on dispose, comme à l’Ined, d’une sauvergarde régulière sur un autre lecteur via un serveur. On peut vérifier la localisation de ce répertoire avec la commande <code>sysdir</code>, et plus généralement la localisation des répertoires d’utilisation de Stata.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ot">sysdir</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   STATA:  C:\PROGRA~1\Stata17\
    BASE:  C:\PROGRA~1\Stata17\ado\base\
    SITE:  C:\PROGRA~1\Stata17\ado\site\
    PLUS:  D:\D\ado\plus\
PERSONAL:  D:\D\ado\personal\
OLDPLACE:  c:\ado\</code></pre>
</div>
</div>
<p><strong>Exercice</strong></p>
<p>Ouvrir la base d’exemple <em>auto</em><br>
Dans la fenêtre <em>Command</em>: <strong><code>sysuse auto, clear</code></strong></p>
<ul>
<li>[1] Accéder à l’aide (pdf) de l’instruction <code>tabulate</code>. Faire un tableau croisé entre la variable <em>foreign</em> et <em>rep78</em>.</li>
<li>[2] Installer le package externe <code>findname</code>, exécuter <code>findname t*</code> et chercher les variables de type chaine de caractère (string).</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
profile.do
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Attention</strong>: Avec la version 18, la technique permettant avec un <em>profile.do</em> de récupérer une sauvegarde d’un programme n’a plus aucune utilité, Stata ayant (enfin) une autosave des programmes.</p>
<p>Pour en savoir plus sur le paramétrage des sessions avec un fichier <strong><em>profile.do</em></strong> [<a href="https://mthevenin.github.io/stata_fr/articles/index/posts/profile/profile.html">Lien</a>]</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><strong>Présentation de la formation</strong></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./chapitre2.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title"><strong>L’environnement</strong></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Marc Thévenin / Ined-Sms / Juin 2023</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","descPosition":"bottom","openEffect":"zoom","closeEffect":"zoom","loop":true});</script>



</body></html>