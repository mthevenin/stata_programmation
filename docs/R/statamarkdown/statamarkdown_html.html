<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.330">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marc Thevenin">
<meta name="dcterms.date" content="2022-09-30">

<title>Statamarkdown [RStudio]</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_fr/" rel="" target="">
 <span class="menu-text">Stata Ined</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_graphiques/" rel="" target="">
 <span class="menu-text">Graphiques</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_programmation/" rel="" target="">
 <span class="menu-text">Programmation</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mthevenin" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:marc.thevenin@ined.fr" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">A propos</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Statamarkdown [RStudio]</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Formation introductive</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Présentation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Environnement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Le langage Stata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Les bases de données</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Les variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Opérations sur les bases</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">formation/chapitre7.qmd</span>
  </li>
          <li class="sidebar-item">
 <span class="menu-text">  </span>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Fichier profile</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../profile/profile1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Principe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../profile/profile2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exemple profile.do</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Need for speed</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../speedup/gtools/gtools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gtools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../speedup/frame/frame.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frame</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Super Macro World</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../macro/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Présentation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">C’est dans l’R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stata et R</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Edition des outputs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tableaux/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro - Collect</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#introduction-markdown-et-statamarkdown-dans-rstudio" id="toc-introduction-markdown-et-statamarkdown-dans-rstudio" class="nav-link active" data-scroll-target="#introduction-markdown-et-statamarkdown-dans-rstudio"><span class="header-section-number">1</span> Introduction: Markdown et Statamarkdown dans RStudio</a></li>
  <li><a href="#statmarkdown-de-doug-hemken" id="toc-statmarkdown-de-doug-hemken" class="nav-link" data-scroll-target="#statmarkdown-de-doug-hemken"><span class="header-section-number">2</span> Statmarkdown de Doug Hemken</a>
  <ul class="collapse">
  <li><a href="#ressources" id="toc-ressources" class="nav-link" data-scroll-target="#ressources"><span class="header-section-number">2.1</span> Ressources</a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">2.2</span> Installation</a></li>
  <li><a href="#exemple" id="toc-exemple" class="nav-link" data-scroll-target="#exemple"><span class="header-section-number">2.3</span> Exemple</a>
  <ul class="collapse">
  <li><a href="#suite-de-commandes-dans-un-bloc" id="toc-suite-de-commandes-dans-un-bloc" class="nav-link" data-scroll-target="#suite-de-commandes-dans-un-bloc"><span class="header-section-number">2.3.1</span> Suite de commandes dans un bloc</a></li>
  <li><a href="#suite-de-commandes-dans-plusieurs-blocs" id="toc-suite-de-commandes-dans-plusieurs-blocs" class="nav-link" data-scroll-target="#suite-de-commandes-dans-plusieurs-blocs"><span class="header-section-number">2.3.2</span> Suite de commandes dans plusieurs blocs</a></li>
  </ul></li>
  <li><a href="#commandes-externes" id="toc-commandes-externes" class="nav-link" data-scroll-target="#commandes-externes"><span class="header-section-number">2.4</span> Commandes externes</a></li>
  <li><a href="#inserer-un-graphique" id="toc-inserer-un-graphique" class="nav-link" data-scroll-target="#inserer-un-graphique"><span class="header-section-number">2.5</span> Inserer un graphique</a></li>
  <li><a href="#résultat-de-régression-avec-collect" id="toc-résultat-de-régression-avec-collect" class="nav-link" data-scroll-target="#résultat-de-régression-avec-collect"><span class="header-section-number">2.6</span> Résultat de régression avec <strong><code>collect</code></strong></a>
  <ul class="collapse">
  <li><a href="#programme-stata" id="toc-programme-stata" class="nav-link" data-scroll-target="#programme-stata"><span class="header-section-number">2.6.1</span> Programme Stata</a></li>
  <li><a href="#insertion-du-tableau-avec-htmltools" id="toc-insertion-du-tableau-avec-htmltools" class="nav-link" data-scroll-target="#insertion-du-tableau-avec-htmltools"><span class="header-section-number">2.6.2</span> Insertion du tableau avec htmltools</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Statamarkdown [RStudio]</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">Statamarkdown</div>
    <div class="quarto-category">RStudio</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Marc Thevenin </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 30, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'Statamarkdown' a été compilé avec la version R 4.2.3</code></pre>
</div>
</div>
<section id="introduction-markdown-et-statamarkdown-dans-rstudio" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction: Markdown et Statamarkdown dans RStudio</h1>
<ul>
<li><strong>Markdown</strong>.
<ul>
<li>Ce n’est vraiment pas très compliqué, le but, mais il faut un minimum de pratique en édition avec <strong>markdown</strong> (md). Il y a pléthore de tutoriels (un exemple: <a href="https://www.markdownguide.org/cheat-sheet/" class="uri">https://www.markdownguide.org/cheat-sheet/</a>)</li>
<li>Stata permet d’exécuter dans un .do un programme documenté en md depuis de nombreuses années: se reporter par exemple à <a href="https://data.princeton.edu/stata/markdown">markstat</a> de <em>Germán Rodríguez</em>, de loin la solution la plus stisfaisante. C’est mon avis, mais les solutions dans l’environnement Stata sont et je pense resteront largement en deçà de celles proposée dans un environnement R (<em>Rmarkdown</em>, <em>Bookdown</em>).</li>
<li>La dernière évolution en date,<a href="https://quarto.org/"><strong>Quarto</strong></a>, continue de creuser le fossé, en particulier pour générer des documents nativement en Latex. Ce document, diffusé en html, est également mis à disposition en format pdf (<a href="statamarkdown_pdf.pdf">Lien</a>). Le code source est disponible en cliquant sur &lt;/&gt; en haut à droite de la page pour le html, et son variant en pdf est déposé sur github (<a href="https://github.com/mthevenin/stata_programmation/blob/main/R/statamarkdown/statamarkdown_pdf.qmd">lien</a>)</li>
</ul></li>
<li><strong>La durée d’exécution</strong>
<ul>
<li>Cette présentation montre rapidement comment dans <em>Rstudio</em> on peut éditer un document en exécutant simulanément <em>Stata</em>. Les durée d’exécution ne sont malheureusement pas optimales malgré les améliorations récentes du logiciel. L’auteur du package Statamarkdown <em>Doug Hemken</em> l’indique clairement. Stata est exécuté en mode batch en s’ouvrant et se fermant systématiquement à chaque bloc de commandes. Cette durée d’exécution est encore plus élevée lorsqu’on compile un document en format pdf, donc nativement en <em>Latex</em>. Même si <code>Statamarkdown</code> présente un intérêt, je pense que l’ensemble du matériel d’analyse, comme les tableaux et graphiques, devrait resté produit sous environnement Stata, et dans un deuxième temps intégré au document.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Markdown versus Markup
</div>
</div>
<div class="callout-body-container callout-body">
<p>Le markdown est langage d’édition à balisage léger créer en 2002. <strong>Markdown</strong> parce qu’il existe du <strong>Markup</strong>, le plus célèbre étant le HTML (c’est le M), et avec Stata on a le très pénible <em>SMCL</em> (Stata Markup Control Langage).<br>
Le <em>Latex</em> n’est pas officiellement il me semble un langage d’édition de type Markup, mais il reste très gourmand en balises. Tel qu’il est intégré à <strong>Rmarkdown</strong> mais plus encore avec <strong>Quarto</strong>, le balisage Latex devient minimal pour ne pas dire inéxistant (et reste très utile).</p>
</div>
</div>
<p><strong>Bloc de code</strong></p>
<ul>
<li>Dans ce document les lignes de commandes seront bien évidemment reportées, ce qui n’est pas le cas si on souhaite par exemple éditer un article, un rapport, une thèse ou un ouvrage. Un bloc de codes ou un fragment de programme est ouvert avec <strong><code>{nom_langage, options}** et fermé par **</code></strong>. Les option <strong><code>echo=FALSE</code></strong>, <strong><code>warning=FALSE</code></strong> et <strong><code>message=FALSE</code></strong> permettent de ne pas afficher le programme et les messages qui peuvent être affichés dans l’output.</li>
<li>Si on souhaite cacher intégralement les résultats, on peut ajouter l’option (normalement <code>quielty</code> doit suffire ) <strong><code>results=FALSE</code></strong>.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>```{stata}</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Affichage dans le document:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span>  <span class="st">"{bf: *******AU SECOURS LE SMCL*******}"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> *******AU SECOURS LE SMCL*******</code></pre>
</div>
</div>
<p><strong>Sans affichage du programme: <code>echo=FALSE</code></strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>```{stata, echo=FALSE, warning=FALSE, message=FALSE}</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Affichage dans le document :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> *******AU SECOURS LE SMCL*******</code></pre>
</div>
</div>
<p><strong>Cacher les résultats: <code>result=FALSE</code></strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>```{stata, echo=FALSE, warning=FALSE, message=FALSE, results=FALSE}</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Pas d’affichage dans le document</p>
<p>Dans la suite du document, les informations qui ouvrent le bloc de codes seront reportées sous forme de titre de cette zône, par exemple :</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{stata, warning=FALSE, message=FALSE, results=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span>  <span class="st">"{bf: *******AU SECOURS LE SMCL*******}"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
profile.do
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous avez des paramètres de session dans un fichier <em>profile.do</em> (<a href="https://mthevenin.github.io/stata_programmation/profile/profile1.html">tutoriel</a>), je conseille très vivement de mettre ce fichier dans le répertoire où se trouve le fichier que vous éditer avec <em>Rmarkdown</em>, <em>Bookdown</em> ou comme ici <em>Quarto</em>.<br>
Par exemple, si comme moi le répertoire <strong>adoplus</strong> des commandes externes a été déplacé et son emplacement chargé dans un fichier <em>profile</em>, Statamarkdown ne pourra pas chercher ces commandes et les exécuter.</p>
</div>
</div>
</section>
<section id="statmarkdown-de-doug-hemken" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Statmarkdown de Doug Hemken</h1>
<section id="ressources" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="ressources"><span class="header-section-number">2.1</span> Ressources</h2>
<ul>
<li><a href="https://cde.wisc.edu/staff/hemken-douglas/">Doug Hemken</a></li>
<li><a href="https://www.ssc.wisc.edu/~hemken/Stataworkshops/Statamarkdown/stata-and-r-markdown.html">Site tutoriel</a></li>
<li><a href="https://github.com/Hemken/Statamarkdown">Dépôt github</a></li>
</ul>
</section>
<section id="installation" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="installation"><span class="header-section-number">2.2</span> Installation</h2>
<p><strong>Installation du package</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">"hemken/Statamarkdown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Chargement de l’exécutable Stata</strong></p>
<p>Le code <code>R</code> qui suis est à utiliser systématiquement dans chaque document.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>```{r, echo=FALSE, message=FALSE}</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>library(Statamarkdown)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>stataexe &lt;- "C:/Program Files/Stata17/StataSE-64.exe"</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>knitr::opts_chunk$set(engine.path=list(stata=stataexe))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exemple" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="exemple"><span class="header-section-number">2.3</span> Exemple</h2>
<section id="suite-de-commandes-dans-un-bloc" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="suite-de-commandes-dans-un-bloc"><span class="header-section-number">2.3.1</span> Suite de commandes dans un bloc</h3>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto, <span class="kw">clear</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">describe</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> price, <span class="kw">d</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>(1978 automobile data)


Contains data from C:\PROGRA~1\Stata17\ado\base/a/auto.dta
 Observations:            74                  1978 automobile data
    Variables:            12                  13 Apr 2020 17:45
                                              (_dta has notes)
-------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
-------------------------------------------------------------------------------
make            str18   %-18s                 Make and model
price           int     %8.0gc                Price
mpg             int     %8.0g                 Mileage (mpg)
rep78           int     %8.0g                 Repair record 1978
headroom        float   %6.1f                 Headroom (in.)
trunk           int     %8.0g                 Trunk space (cu. ft.)
weight          int     %8.0gc                Weight (lbs.)
length          int     %8.0g                 Length (in.)
turn            int     %8.0g                 Turn circle (ft.)
displacement    int     %8.0g                 Displacement (cu. in.)
gear_ratio      float   %6.2f                 Gear ratio
foreign         byte    %8.0g      origin     Car origin
-------------------------------------------------------------------------------
Sorted by: foreign

                            Price
-------------------------------------------------------------
      Percentiles      Smallest
 1%         3291           3291
 5%         3748           3299
10%         3895           3667       Obs                  74
25%         4195           3748       Sum of wgt.          74

50%       5006.5                      Mean           6165.257
                        Largest       Std. dev.      2949.496
75%         6342          13466
90%        11385          13594       Variance        8699526
95%        13466          14500       Skewness       1.653434
99%        15906          15906       Kurtosis       4.819188</code></pre>
</div>
</div>
</section>
<section id="suite-de-commandes-dans-plusieurs-blocs" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="suite-de-commandes-dans-plusieurs-blocs"><span class="header-section-number">2.3.2</span> Suite de commandes dans plusieurs blocs</h3>
<p>Si on exécute la suite du programme dans un autre bloc:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">regress</span> price mpg turn <span class="kw">if</span> foreign==1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      Source |       SS           df       MS      Number of obs   =        22
-------------+----------------------------------   F(2, 19)        =      8.51
       Model |  68197168.3         2  34098584.2   Prob &gt; F        =    0.0023
    Residual |  76166044.4        19  4008739.18   R-squared       =    0.4724
-------------+----------------------------------   Adj R-squared   =    0.4169
       Total |   144363213        21   6874438.7   Root MSE        =    2002.2

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
         mpg |   -164.397     84.536    -1.94   0.067     -341.332      12.538
        turn |    607.204    372.318     1.63   0.119     -172.067    1386.475
       _cons |  -1.10e+04  14587.768    -0.76   0.458    -4.16e+04   19489.258
------------------------------------------------------------------------------</code></pre>
</div>
</div>
<p>Cela ne marche pas.</p>
<p>On doit ajouter <strong><code>collectcode=TRUE</code></strong> en entrée du premier bloc: <strong><code>{Stata, collectcode=TRUE }</code></strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>```{stata,  collectcode=TRUE }</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>sysuse auto, clear</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-collectcode="true">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata, collectcode=TRUE }</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>(1978 automobile data)</code></pre>
</div>
</div>
<p>Puis</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">regress</span> price mpg turn <span class="kw">if</span> foreign==1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      Source |       SS           df       MS      Number of obs   =        22
-------------+----------------------------------   F(2, 19)        =      8.51
       Model |  68197168.3         2  34098584.2   Prob &gt; F        =    0.0023
    Residual |  76166044.4        19  4008739.18   R-squared       =    0.4724
-------------+----------------------------------   Adj R-squared   =    0.4169
       Total |   144363213        21   6874438.7   Root MSE        =    2002.2

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
         mpg |   -164.397     84.536    -1.94   0.067     -341.332      12.538
        turn |    607.204    372.318     1.63   0.119     -172.067    1386.475
       _cons |  -1.10e+04  14587.768    -0.76   0.458    -4.16e+04   19489.258
------------------------------------------------------------------------------</code></pre>
</div>
</div>
</section>
</section>
<section id="commandes-externes" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="commandes-externes"><span class="header-section-number">2.4</span> Commandes externes</h2>
<p>Si vous avez modifié l’emplacement du répertoire <em>adoplus</em> et que l’appel à ce répertoire est dans un fichier profile.do (<a href="https://mthevenin.github.io/stata_programmation/profile/profile1.html">tutoriel</a>), Statamarkdown ne sera pas capable d’exécuter les commande externes.<br>
La solution est simple: il suffit de coller votre fichier profile.do, normalement dans votre répertoire user, dans le répertoire du document que vous êtes en train de rédiger.</p>
</section>
<section id="inserer-un-graphique" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="inserer-un-graphique"><span class="header-section-number">2.5</span> Inserer un graphique</h2>
<p>Le graphique exporter avec <strong><code>graph export</code></strong>. Il est conseillé de l’enregistrer dans le même répertoire que le document généré ou dans un sous répertoire. Pour l’insérer, il suffit d’utiliser l’intégration standard avec markdown: <strong><code>![nom graph](nom_graph.png){option}</code></strong> s’il est dans le même répertoire ou <strong><code>![nom graph](img/nom_graph.png){option}</code></strong> s’il se trouve dans un sous répertoire, par exemple <em>img</em></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata, message=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> mopts mc(%80) mlc(<span class="bn">black</span>) mlw(*.2) jitter(4)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">tw</span> <span class="kw">scatter</span> price mpg <span class="kw">if</span> !foreign, <span class="ot">`mopts'</span> <span class="co">/// </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>|| <span class="kw">scatter</span> price mpg <span class="kw">if</span>  foreign, <span class="ot">`mopts'</span> <span class="co">/// </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>|| , <span class="bn">legend</span>(<span class="kw">order</span>(1 <span class="st">"Domestic"</span> 2 <span class="st">"foreign"</span>) region(<span class="kw">color</span>(%0)) pos(11)) <span class="co">/// </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>     <span class="kw">ylabel</span>(, angle(0))  <span class="co">///</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>     <span class="bn">title</span>(<span class="st">"Graphique avec Statamarkown"</span> <span class="st">"dans un document Quarto"</span>, pos(11))</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">graph</span> <span class="kw">export</span> <span class="st">"D:\D\Marc\SMS\STATA INED\Programmation\R\statamarkdown\g1.png"</span>, <span class="kw">replace</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Directement dans le document</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>[titre graph](g1.png){width<span class="ot">=</span><span class="dv">80</span>%}{fig<span class="sc">-</span>align<span class="ot">=</span><span class="st">"left"</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="g1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="g1.png" class="img-fluid figure-img" style="width:80.0%"></a></p>
</figure>
</div>
</section>
<section id="résultat-de-régression-avec-collect" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="résultat-de-régression-avec-collect"><span class="header-section-number">2.6</span> Résultat de régression avec <strong><code>collect</code></strong></h2>
<ul>
<li>Se reporter à la courte présention de <strong><code>collect</code></strong> (<a href="https://mthevenin.github.io/stata_programmation/tableaux/intro.html">lien</a>) introduite avec la version 17 de Stata. On prendra le premier exemple.</li>
<li>Pour ce document html on utilisera le package R <strong><code>htmltools</code></strong> pour insérer un tableau générer avec <strong><code>collect</code></strong> et exporter avec <strong><code>collect export</code></strong> en html. Pour la version pdf, le tableau sera de type <em>Latex</em>.</li>
</ul>
<p><strong>Installation de htmltools (R)</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{r}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"htmltools"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><strong>Chargement de htmltools (R)</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{r, message=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'htmltools' a été compilé avec la version R 4.2.3</code></pre>
</div>
</div>
<section id="programme-stata" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="programme-stata"><span class="header-section-number">2.6.1</span> Programme Stata</h3>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata, message=FALSE, warning=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">use</span> https:<span class="co">//www.stata-press.com/data/r17/nhanes2l, clear</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">clear</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">use</span> multimod, <span class="kw">replace</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span>: collect _r_b _r_se _r_p: <span class="kw">regress</span> bpsystol i.agegrp i.region</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span>: collect _r_b _r_se _r_p: <span class="kw">regress</span> bpsystol i.agegrp i.region i.sex</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">label</span> <span class="kw">values</span> cmdset 1 <span class="st">"Modèle 1"</span> 2 <span class="st">"Modèle 2"</span> </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">export</span> <span class="st">"D:/D/Marc/SMS/STATA INED/Programmation/R/statamarkdown/ex1"</span>, <span class="kw">as</span>(html)     <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
</section>
<section id="insertion-du-tableau-avec-htmltools" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="insertion-du-tableau-avec-htmltools"><span class="header-section-number">2.6.2</span> Insertion du tableau avec htmltools</h3>
<p>Directement dans un bloc de code de code:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>```{r}</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>#| tbl-cap: "Régression générée avec collect"</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>htmltools::includeHTML("D:/D/Marc/SMS/STATA INED/Programmation/R/statamarkdown/ex1.html")</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-filename="```{r}">
<div class="cell-output-display">





<meta charset="utf-8">
<meta http-equiv="Content-type" content="text/html; charset=utf-8">

<style>

table {
  border-collapse: collapse;
}

.default1_1_x {
}

.default1_2_x {
}

.default1_3_x {
}

.default1_4_x {
}

.default1_5_x {
}

.default1_6_x {
}

.default1_7_x {
}

.default1_8_x {
}

.default1_9_x {
}

.default1_10_x {
}

.default1_11_x {
}

.default1_12_x {
}

.default1_13_x {
}

.default1_14_x {
}

.default1_15_x {
}

.default1_x_1 {
}

.default1_x_2 {
}

.default1_x_3 {
}

.default1_x_4 {
}

.default1_x_5 {
}

.default1_x_6 {
}

.default1_x_7 {
}

.default1_x_8 {
}

.default1_1_1 {
  border-top-style: solid;
  text-align: center;
  vertical-align: bottom;
}

.default1_1_1_span {
}

.default1_1_2 {
  border-right-style: none;
  border-top-style: solid;
  text-align: center;
  vertical-align: bottom;
}

.default1_1_2_span {
}

.default1_1_3 {
  border-top-style: solid;
  text-align: center;
  vertical-align: bottom;
}

.default1_1_3_span {
}

.default1_1_4 {
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_1_4_span {
}

.default1_1_5 {
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_1_5_span {
}

.default1_1_6 {
  border-right-style: none;
  border-top-style: solid;
  text-align: center;
  vertical-align: bottom;
}

.default1_1_6_span {
}

.default1_1_7 {
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_1_7_span {
}

.default1_1_8 {
  border-right-style: none;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_1_8_span {
}

.default1_2_1 {
  text-align: center;
  vertical-align: bottom;
}

.default1_2_1_span {
}

.default1_2_2 {
  border-right-style: none;
  text-align: center;
  vertical-align: bottom;
}

.default1_2_2_span {
}

.default1_2_3 {
  text-align: right;
  vertical-align: bottom;
}

.default1_2_3_span {
}

.default1_2_4 {
  text-align: right;
  vertical-align: bottom;
}

.default1_2_4_span {
}

.default1_2_5 {
  text-align: right;
  vertical-align: bottom;
}

.default1_2_5_span {
}

.default1_2_6 {
  text-align: right;
  vertical-align: bottom;
}

.default1_2_6_span {
}

.default1_2_7 {
  text-align: right;
  vertical-align: bottom;
}

.default1_2_7_span {
}

.default1_2_8 {
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_2_8_span {
}

.default1_3_1 {
  border-top-style: solid;
  text-align: left;
  vertical-align: bottom;
}

.default1_3_1_span {
}

.default1_3_2 {
  border-right-style: none;
  border-top-style: solid;
  text-align: left;
  vertical-align: bottom;
}

.default1_3_2_span {
}

.default1_3_3 {
  padding-left: 10pt;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_3_3_span {
}

.default1_3_4 {
  padding-left: 10pt;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_3_4_span {
}

.default1_3_5 {
  padding-left: 10pt;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_3_5_span {
}

.default1_3_6 {
  padding-left: 10pt;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_3_6_span {
}

.default1_3_7 {
  padding-left: 10pt;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_3_7_span {
}

.default1_3_8 {
  padding-left: 10pt;
  border-right-style: none;
  border-top-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_3_8_span {
}

.default1_4_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_4_1_span {
}

.default1_4_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_4_2_span {
}

.default1_4_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_4_3_span {
}

.default1_4_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_4_4_span {
}

.default1_4_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_4_5_span {
}

.default1_4_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_4_6_span {
}

.default1_4_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_4_7_span {
}

.default1_4_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_4_8_span {
}

.default1_5_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_5_1_span {
}

.default1_5_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_5_2_span {
}

.default1_5_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_5_3_span {
}

.default1_5_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_5_4_span {
}

.default1_5_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_5_5_span {
}

.default1_5_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_5_6_span {
}

.default1_5_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_5_7_span {
}

.default1_5_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_5_8_span {
}

.default1_6_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_6_1_span {
}

.default1_6_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_6_2_span {
}

.default1_6_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_6_3_span {
}

.default1_6_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_6_4_span {
}

.default1_6_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_6_5_span {
}

.default1_6_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_6_6_span {
}

.default1_6_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_6_7_span {
}

.default1_6_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_6_8_span {
}

.default1_7_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_7_1_span {
}

.default1_7_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_7_2_span {
}

.default1_7_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_7_3_span {
}

.default1_7_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_7_4_span {
}

.default1_7_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_7_5_span {
}

.default1_7_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_7_6_span {
}

.default1_7_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_7_7_span {
}

.default1_7_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_7_8_span {
}

.default1_8_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_8_1_span {
}

.default1_8_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_8_2_span {
}

.default1_8_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_8_3_span {
}

.default1_8_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_8_4_span {
}

.default1_8_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_8_5_span {
}

.default1_8_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_8_6_span {
}

.default1_8_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_8_7_span {
}

.default1_8_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_8_8_span {
}

.default1_9_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_9_1_span {
}

.default1_9_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_9_2_span {
}

.default1_9_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_9_3_span {
}

.default1_9_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_9_4_span {
}

.default1_9_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_9_5_span {
}

.default1_9_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_9_6_span {
}

.default1_9_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_9_7_span {
}

.default1_9_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_9_8_span {
}

.default1_10_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_10_1_span {
}

.default1_10_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_10_2_span {
}

.default1_10_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_10_3_span {
}

.default1_10_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_10_4_span {
}

.default1_10_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_10_5_span {
}

.default1_10_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_10_6_span {
}

.default1_10_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_10_7_span {
}

.default1_10_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_10_8_span {
}

.default1_11_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_11_1_span {
}

.default1_11_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_11_2_span {
}

.default1_11_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_11_3_span {
}

.default1_11_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_11_4_span {
}

.default1_11_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_11_5_span {
}

.default1_11_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_11_6_span {
}

.default1_11_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_11_7_span {
}

.default1_11_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_11_8_span {
}

.default1_12_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_12_1_span {
}

.default1_12_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_12_2_span {
}

.default1_12_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_12_3_span {
}

.default1_12_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_12_4_span {
}

.default1_12_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_12_5_span {
}

.default1_12_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_12_6_span {
}

.default1_12_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_12_7_span {
}

.default1_12_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_12_8_span {
}

.default1_13_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_13_1_span {
}

.default1_13_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_13_2_span {
}

.default1_13_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_13_3_span {
}

.default1_13_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_13_4_span {
}

.default1_13_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_13_5_span {
}

.default1_13_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_13_6_span {
}

.default1_13_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_13_7_span {
}

.default1_13_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_13_8_span {
}

.default1_14_1 {
  text-align: left;
  vertical-align: bottom;
}

.default1_14_1_span {
}

.default1_14_2 {
  border-right-style: none;
  text-align: left;
  vertical-align: bottom;
}

.default1_14_2_span {
}

.default1_14_3 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_14_3_span {
}

.default1_14_4 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_14_4_span {
}

.default1_14_5 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_14_5_span {
}

.default1_14_6 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_14_6_span {
}

.default1_14_7 {
  padding-left: 10pt;
  text-align: right;
  vertical-align: bottom;
}

.default1_14_7_span {
}

.default1_14_8 {
  padding-left: 10pt;
  border-right-style: none;
  text-align: right;
  vertical-align: bottom;
}

.default1_14_8_span {
}

.default1_15_1 {
  border-right-style: none;
  border-bottom-style: solid;
  text-align: left;
  vertical-align: bottom;
}

.default1_15_1_span {
}

.default1_15_2 {
  border-right-style: none;
  border-bottom-style: solid;
  text-align: left;
  vertical-align: bottom;
}

.default1_15_2_span {
}

.default1_15_3 {
  padding-left: 10pt;
  border-bottom-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_15_3_span {
}

.default1_15_4 {
  padding-left: 10pt;
  border-bottom-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_15_4_span {
}

.default1_15_5 {
  padding-left: 10pt;
  border-bottom-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_15_5_span {
}

.default1_15_6 {
  padding-left: 10pt;
  border-bottom-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_15_6_span {
}

.default1_15_7 {
  padding-left: 10pt;
  border-bottom-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_15_7_span {
}

.default1_15_8 {
  padding-left: 10pt;
  border-right-style: none;
  border-bottom-style: solid;
  text-align: right;
  vertical-align: bottom;
}

.default1_15_8_span {
}

</style>






<table class="default1 table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Régression générée avec collect </caption>
<tbody>
<tr class="odd default1_1_x">
<td class="default1_x_1 default1_1_1"><span class="default1_1_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_1_2"><span class="default1_1_2_span"> </span></td>
<td colspan="3" class="default1_x_3 default1_1_3"><span class="default1_1_3_span"> Modèle 1 </span></td>
<td colspan="3" class="default1_x_6 default1_1_6"><span class="default1_1_6_span"> Modèle 2 </span></td>
</tr>
<tr class="even default1_2_x">
<td class="default1_x_1 default1_2_1"><span class="default1_2_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_2_2"><span class="default1_2_2_span"> </span></td>
<td class="default1_x_3 default1_2_3"><span class="default1_2_3_span"> Coefficient </span></td>
<td class="default1_x_4 default1_2_4"><span class="default1_2_4_span"> Std. error </span></td>
<td class="default1_x_5 default1_2_5"><span class="default1_2_5_span"> p-value </span></td>
<td class="default1_x_6 default1_2_6"><span class="default1_2_6_span"> Coefficient </span></td>
<td class="default1_x_7 default1_2_7"><span class="default1_2_7_span"> Std. error </span></td>
<td class="default1_x_8 default1_2_8"><span class="default1_2_8_span"> p-value </span></td>
</tr>
<tr class="odd default1_3_x">
<td class="default1_x_1 default1_3_1"><span class="default1_3_1_span"> Age group </span></td>
<td class="default1_x_2 default1_3_2"><span class="default1_3_2_span"> 20–29 </span></td>
<td class="default1_x_3 default1_3_3"><span class="default1_3_3_span"> 0.000 </span></td>
<td class="default1_x_4 default1_3_4"><span class="default1_3_4_span"> 0.000 </span></td>
<td class="default1_x_5 default1_3_5"><span class="default1_3_5_span"> </span></td>
<td class="default1_x_6 default1_3_6"><span class="default1_3_6_span"> 0.000 </span></td>
<td class="default1_x_7 default1_3_7"><span class="default1_3_7_span"> 0.000 </span></td>
<td class="default1_x_8 default1_3_8"><span class="default1_3_8_span"> </span></td>
</tr>
<tr class="even default1_4_x">
<td class="default1_x_1 default1_4_1"><span class="default1_4_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_4_2"><span class="default1_4_2_span"> 30–39 </span></td>
<td class="default1_x_3 default1_4_3"><span class="default1_4_3_span"> 2.891 </span></td>
<td class="default1_x_4 default1_4_4"><span class="default1_4_4_span"> 0.664 </span></td>
<td class="default1_x_5 default1_4_5"><span class="default1_4_5_span"> 0.000 </span></td>
<td class="default1_x_6 default1_4_6"><span class="default1_4_6_span"> 2.917 </span></td>
<td class="default1_x_7 default1_4_7"><span class="default1_4_7_span"> 0.661 </span></td>
<td class="default1_x_8 default1_4_8"><span class="default1_4_8_span"> 0.000 </span></td>
</tr>
<tr class="odd default1_5_x">
<td class="default1_x_1 default1_5_1"><span class="default1_5_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_5_2"><span class="default1_5_2_span"> 40–49 </span></td>
<td class="default1_x_3 default1_5_3"><span class="default1_5_3_span"> 9.580 </span></td>
<td class="default1_x_4 default1_5_4"><span class="default1_5_4_span"> 0.716 </span></td>
<td class="default1_x_5 default1_5_5"><span class="default1_5_5_span"> 0.000 </span></td>
<td class="default1_x_6 default1_5_6"><span class="default1_5_6_span"> 9.584 </span></td>
<td class="default1_x_7 default1_5_7"><span class="default1_5_7_span"> 0.713 </span></td>
<td class="default1_x_8 default1_5_8"><span class="default1_5_8_span"> 0.000 </span></td>
</tr>
<tr class="even default1_6_x">
<td class="default1_x_1 default1_6_1"><span class="default1_6_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_6_2"><span class="default1_6_2_span"> 50–59 </span></td>
<td class="default1_x_3 default1_6_3"><span class="default1_6_3_span"> 18.324 </span></td>
<td class="default1_x_4 default1_6_4"><span class="default1_6_4_span"> 0.713 </span></td>
<td class="default1_x_5 default1_6_5"><span class="default1_6_5_span"> 0.000 </span></td>
<td class="default1_x_6 default1_6_6"><span class="default1_6_6_span"> 18.384 </span></td>
<td class="default1_x_7 default1_6_7"><span class="default1_6_7_span"> 0.710 </span></td>
<td class="default1_x_8 default1_6_8"><span class="default1_6_8_span"> 0.000 </span></td>
</tr>
<tr class="odd default1_7_x">
<td class="default1_x_1 default1_7_1"><span class="default1_7_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_7_2"><span class="default1_7_2_span"> 60–69 </span></td>
<td class="default1_x_3 default1_7_3"><span class="default1_7_3_span"> 24.184 </span></td>
<td class="default1_x_4 default1_7_4"><span class="default1_7_4_span"> 0.574 </span></td>
<td class="default1_x_5 default1_7_5"><span class="default1_7_5_span"> 0.000 </span></td>
<td class="default1_x_6 default1_7_6"><span class="default1_7_6_span"> 24.193 </span></td>
<td class="default1_x_7 default1_7_7"><span class="default1_7_7_span"> 0.571 </span></td>
<td class="default1_x_8 default1_7_8"><span class="default1_7_8_span"> 0.000 </span></td>
</tr>
<tr class="even default1_8_x">
<td class="default1_x_1 default1_8_1"><span class="default1_8_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_8_2"><span class="default1_8_2_span"> 70+ </span></td>
<td class="default1_x_3 default1_8_3"><span class="default1_8_3_span"> 30.851 </span></td>
<td class="default1_x_4 default1_8_4"><span class="default1_8_4_span"> 0.780 </span></td>
<td class="default1_x_5 default1_8_5"><span class="default1_8_5_span"> 0.000 </span></td>
<td class="default1_x_6 default1_8_6"><span class="default1_8_6_span"> 30.958 </span></td>
<td class="default1_x_7 default1_8_7"><span class="default1_8_7_span"> 0.777 </span></td>
<td class="default1_x_8 default1_8_8"><span class="default1_8_8_span"> 0.000 </span></td>
</tr>
<tr class="odd default1_9_x">
<td class="default1_x_1 default1_9_1"><span class="default1_9_1_span"> Region </span></td>
<td class="default1_x_2 default1_9_2"><span class="default1_9_2_span"> NE </span></td>
<td class="default1_x_3 default1_9_3"><span class="default1_9_3_span"> 0.000 </span></td>
<td class="default1_x_4 default1_9_4"><span class="default1_9_4_span"> 0.000 </span></td>
<td class="default1_x_5 default1_9_5"><span class="default1_9_5_span"> </span></td>
<td class="default1_x_6 default1_9_6"><span class="default1_9_6_span"> 0.000 </span></td>
<td class="default1_x_7 default1_9_7"><span class="default1_9_7_span"> 0.000 </span></td>
<td class="default1_x_8 default1_9_8"><span class="default1_9_8_span"> </span></td>
</tr>
<tr class="even default1_10_x">
<td class="default1_x_1 default1_10_1"><span class="default1_10_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_10_2"><span class="default1_10_2_span"> MW </span></td>
<td class="default1_x_3 default1_10_3"><span class="default1_10_3_span"> -0.023 </span></td>
<td class="default1_x_4 default1_10_4"><span class="default1_10_4_span"> 0.595 </span></td>
<td class="default1_x_5 default1_10_5"><span class="default1_10_5_span"> 0.969 </span></td>
<td class="default1_x_6 default1_10_6"><span class="default1_10_6_span"> 0.033 </span></td>
<td class="default1_x_7 default1_10_7"><span class="default1_10_7_span"> 0.592 </span></td>
<td class="default1_x_8 default1_10_8"><span class="default1_10_8_span"> 0.956 </span></td>
</tr>
<tr class="odd default1_11_x">
<td class="default1_x_1 default1_11_1"><span class="default1_11_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_11_2"><span class="default1_11_2_span"> S </span></td>
<td class="default1_x_3 default1_11_3"><span class="default1_11_3_span"> -0.303 </span></td>
<td class="default1_x_4 default1_11_4"><span class="default1_11_4_span"> 0.591 </span></td>
<td class="default1_x_5 default1_11_5"><span class="default1_11_5_span"> 0.608 </span></td>
<td class="default1_x_6 default1_11_6"><span class="default1_11_6_span"> -0.227 </span></td>
<td class="default1_x_7 default1_11_7"><span class="default1_11_7_span"> 0.588 </span></td>
<td class="default1_x_8 default1_11_8"><span class="default1_11_8_span"> 0.699 </span></td>
</tr>
<tr class="even default1_12_x">
<td class="default1_x_1 default1_12_1"><span class="default1_12_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_12_2"><span class="default1_12_2_span"> W </span></td>
<td class="default1_x_3 default1_12_3"><span class="default1_12_3_span"> -0.777 </span></td>
<td class="default1_x_4 default1_12_4"><span class="default1_12_4_span"> 0.601 </span></td>
<td class="default1_x_5 default1_12_5"><span class="default1_12_5_span"> 0.196 </span></td>
<td class="default1_x_6 default1_12_6"><span class="default1_12_6_span"> -0.745 </span></td>
<td class="default1_x_7 default1_12_7"><span class="default1_12_7_span"> 0.599 </span></td>
<td class="default1_x_8 default1_12_8"><span class="default1_12_8_span"> 0.213 </span></td>
</tr>
<tr class="odd default1_13_x">
<td class="default1_x_1 default1_13_1"><span class="default1_13_1_span"> Sex </span></td>
<td class="default1_x_2 default1_13_2"><span class="default1_13_2_span"> Male </span></td>
<td class="default1_x_3 default1_13_3"><span class="default1_13_3_span"> </span></td>
<td class="default1_x_4 default1_13_4"><span class="default1_13_4_span"> </span></td>
<td class="default1_x_5 default1_13_5"><span class="default1_13_5_span"> </span></td>
<td class="default1_x_6 default1_13_6"><span class="default1_13_6_span"> 0.000 </span></td>
<td class="default1_x_7 default1_13_7"><span class="default1_13_7_span"> 0.000 </span></td>
<td class="default1_x_8 default1_13_8"><span class="default1_13_8_span"> </span></td>
</tr>
<tr class="even default1_14_x">
<td class="default1_x_1 default1_14_1"><span class="default1_14_1_span"> &nbsp; </span></td>
<td class="default1_x_2 default1_14_2"><span class="default1_14_2_span"> Female </span></td>
<td class="default1_x_3 default1_14_3"><span class="default1_14_3_span"> </span></td>
<td class="default1_x_4 default1_14_4"><span class="default1_14_4_span"> </span></td>
<td class="default1_x_5 default1_14_5"><span class="default1_14_5_span"> </span></td>
<td class="default1_x_6 default1_14_6"><span class="default1_14_6_span"> -4.015 </span></td>
<td class="default1_x_7 default1_14_7"><span class="default1_14_7_span"> 0.402 </span></td>
<td class="default1_x_8 default1_14_8"><span class="default1_14_8_span"> 0.000 </span></td>
</tr>
<tr class="odd default1_15_x">
<td colspan="2" class="default1_x_1 default1_15_1"><span class="default1_15_1_span"> Intercept </span></td>
<td class="default1_x_3 default1_15_3"><span class="default1_15_3_span"> 117.632 </span></td>
<td class="default1_x_4 default1_15_4"><span class="default1_15_4_span"> 0.589 </span></td>
<td class="default1_x_5 default1_15_5"><span class="default1_15_5_span"> 0.000 </span></td>
<td class="default1_x_6 default1_15_6"><span class="default1_15_6_span"> 119.672 </span></td>
<td class="default1_x_7 default1_15_7"><span class="default1_15_7_span"> 0.621 </span></td>
<td class="default1_x_8 default1_15_8"><span class="default1_15_8_span"> 0.000 </span></td>
</tr>
</tbody>
</table>




</div>
</div>
<p>Un titre à été ajouté avec <strong><code>#| tbl-cap: "Régression générée avec collect"</code></strong></p>


<!-- -->

</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb29" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Statamarkdown [RStudio]"</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Marc Thevenin"</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html: </span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools:</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">      source: true</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> </span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">  - Statamarkdown</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">  - RStudio</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "09-30-2022"</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, , message=FALSE}</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Statamarkdown)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>stataexe <span class="ot">&lt;-</span> <span class="st">"C:/Program Files/Stata17/StataSE-64.exe"</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">engine.path=</span><span class="fu">list</span>(<span class="at">stata=</span>stataexe))</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction: Markdown et Statamarkdown dans RStudio </span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Markdown**.</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Ce n'est vraiment pas très compliqué, le but, mais il faut un minimum de pratique en édition avec **markdown** (md). Il y a pléthore de tutoriels (un exemple: <span class="ot">&lt;https://www.markdownguide.org/cheat-sheet/&gt;</span>)</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Stata permet d'exécuter dans un .do un programme documenté en md depuis de nombreuses années: se reporter par exemple à <span class="co">[</span><span class="ot">markstat</span><span class="co">](https://data.princeton.edu/stata/markdown)</span> de *Germán Rodríguez*, de loin la solution la plus stisfaisante. C'est mon avis, mais les solutions dans l'environnement Stata sont et je pense resteront largement en deçà de celles proposée dans un environnement R (*Rmarkdown*, *Bookdown*).</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>La dernière évolution en date,<span class="co">[</span><span class="ot">**Quarto**</span><span class="co">](https://quarto.org/)</span>, continue de creuser le fossé, en particulier pour générer des documents nativement en Latex. Ce document, diffusé en html, est également mis à disposition en format pdf (<span class="co">[</span><span class="ot">Lien</span><span class="co">](statamarkdown_pdf.pdf)</span>). Le code source est disponible en cliquant sur <span class="sc">\&lt;</span>/<span class="sc">\&gt;</span> en haut à droite de la page pour le html, et son variant en pdf est déposé sur github (<span class="co">[</span><span class="ot">lien</span><span class="co">](https://github.com/mthevenin/stata_programmation/blob/main/R/statamarkdown/statamarkdown_pdf.qmd)</span>)</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**La durée d'exécution**  </span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Cette présentation montre rapidement comment dans *Rstudio* on peut éditer un document en exécutant simulanément *Stata*. Les durée d'exécution ne sont malheureusement pas optimales malgré les améliorations récentes du logiciel. L'auteur du package Statamarkdown *Doug Hemken* l'indique clairement. Stata est exécuté en mode batch en s'ouvrant et se fermant systématiquement à chaque bloc de commandes. Cette durée d'exécution est encore plus élevée lorsqu'on compile un document en format pdf, donc nativement en *Latex*. Même si <span class="in">`Statamarkdown`</span> présente un intérêt, je pense que l'ensemble du matériel d'analyse, comme les tableaux et graphiques, devrait resté produit sous environnement Stata, et dans un deuxième temps intégré au document.</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## Markdown versus Markup</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>Le markdown est langage d'édition à balisage léger créer en 2002. **Markdown** parce qu'il existe du **Markup**, le plus célèbre étant le HTML (c'est le M), et avec Stata on a le très pénible *SMCL* (Stata Markup Control Langage).  </span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>Le *Latex* n'est pas officiellement il me semble un langage d'édition de type Markup, mais il reste très gourmand en balises. Tel qu'il est intégré à **Rmarkdown** mais plus encore avec **Quarto**, le balisage Latex devient minimal pour ne pas dire inéxistant (\newpage et \input reste très utile).</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>**Bloc de code**</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Dans ce document les lignes de commandes seront bien évidemment reportées, ce qui n'est pas le cas si on souhaite par exemple éditer un article, un rapport, une thèse ou un ouvrage. Un bloc de codes ou un fragment de programme est ouvert avec **`{nom_langage, options}** et fermé par **`**. Les option **`echo=FALSE`**, **`warning=FALSE`** et **`message=FALSE`** permettent de ne pas afficher le programme et les messages qui peuvent être affichés dans l'output. </span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Si on souhaite cacher intégralement les résultats, on peut ajouter l'option (normalement <span class="in">`quielty`</span> doit suffire ) **`results=FALSE`**.</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a><span class="in">````{verbatim}</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata}</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a><span class="in">di  "{bf: *******AU SECOURS LE SMCL*******}"</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>Affichage dans le document:</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata}</span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a><span class="in">di  "{bf: *******AU SECOURS LE SMCL*******}"</span></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>**Sans affichage du programme: `echo=FALSE`**</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a><span class="in">````{verbatim}</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata, echo=FALSE, warning=FALSE, message=FALSE}</span></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a><span class="in">di  "{bf: *******AU SECOURS LE SMCL*******}"</span></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>Affichage dans le document :</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata, echo=FALSE, warning=FALSE, message=FALSE}</span></span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a><span class="in">di  "{bf: *******AU SECOURS LE SMCL*******}"</span></span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>**Cacher les résultats: `result=FALSE`**</span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a><span class="in">````{verbatim}</span></span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata, echo=FALSE, warning=FALSE, message=FALSE, results=FALSE}</span></span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a><span class="in">di  "{bf: *******AU SECOURS LE SMCL*******}"</span></span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a>Pas d'affichage dans le document</span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a>Dans la suite du document, les informations qui ouvrent le bloc de codes seront reportées sous forme de titre de cette zône, par exemple : </span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a>```{stata filename="```{stata, warning=FALSE, message=FALSE, results=FALSE}" , warning=FALSE, message=FALSE, results=FALSE}</span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-87"><a href="#cb29-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-88"><a href="#cb29-88" aria-hidden="true" tabindex="-1"></a><span class="in">::: callout-important</span></span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a><span class="in">## profile.do  </span></span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a><span class="in">Si vous avez des paramètres de session dans un fichier *profile.do* ([tutoriel](https://mthevenin.github.io/stata_programmation/profile/profile1.html)), je conseille très vivement de mettre ce fichier dans le répertoire où se trouve le fichier que vous éditer avec *Rmarkdown*, *Bookdown* ou comme ici *Quarto*.  </span></span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a><span class="in">Par exemple, si comme moi le répertoire **adoplus** des commandes externes a été déplacé et son emplacement chargé dans un fichier *profile*, Statamarkdown ne pourra pas chercher ces commandes et les exécuter. </span></span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a><span class="in">:::</span></span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a><span class="in"># Statmarkdown de Doug Hemken</span></span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a><span class="in">## Ressources</span></span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a><span class="in">-   [Doug Hemken](https://cde.wisc.edu/staff/hemken-douglas/)</span></span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a><span class="in">-   [Site tutoriel](https://www.ssc.wisc.edu/~hemken/Stataworkshops/Statamarkdown/stata-and-r-markdown.html)</span></span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a><span class="in">-   [Dépôt github](https://github.com/Hemken/Statamarkdown)</span></span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a><span class="in">## Installation</span></span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a><span class="in">**Installation du package**</span></span>
<span id="cb29-105"><a href="#cb29-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-106"><a href="#cb29-106" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a><span class="in">library(devtools)</span></span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a><span class="in">install_github("hemken/Statamarkdown")</span></span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-111"><a href="#cb29-111" aria-hidden="true" tabindex="-1"></a>**Chargement de l'exécutable Stata**</span>
<span id="cb29-112"><a href="#cb29-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-113"><a href="#cb29-113" aria-hidden="true" tabindex="-1"></a>Le code <span class="in">`R`</span> qui suis est à utiliser systématiquement dans chaque document.</span>
<span id="cb29-114"><a href="#cb29-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-115"><a href="#cb29-115" aria-hidden="true" tabindex="-1"></a><span class="in">````{verbatim}</span></span>
<span id="cb29-116"><a href="#cb29-116" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE}</span></span>
<span id="cb29-117"><a href="#cb29-117" aria-hidden="true" tabindex="-1"></a><span class="in">library(Statamarkdown)</span></span>
<span id="cb29-118"><a href="#cb29-118" aria-hidden="true" tabindex="-1"></a><span class="in">stataexe &lt;- "C:/Program Files/Stata17/StataSE-64.exe"</span></span>
<span id="cb29-119"><a href="#cb29-119" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(engine.path=list(stata=stataexe))</span></span>
<span id="cb29-120"><a href="#cb29-120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-121"><a href="#cb29-121" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb29-122"><a href="#cb29-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-123"><a href="#cb29-123" aria-hidden="true" tabindex="-1"></a><span class="fu">## Exemple</span></span>
<span id="cb29-124"><a href="#cb29-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-125"><a href="#cb29-125" aria-hidden="true" tabindex="-1"></a><span class="fu">### Suite de commandes dans un bloc</span></span>
<span id="cb29-126"><a href="#cb29-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-127"><a href="#cb29-127" aria-hidden="true" tabindex="-1"></a>```{stata filename="```{Stata}"}</span>
<span id="cb29-128"><a href="#cb29-128" aria-hidden="true" tabindex="-1"></a>sysuse auto, clear</span>
<span id="cb29-129"><a href="#cb29-129" aria-hidden="true" tabindex="-1"></a>describe</span>
<span id="cb29-130"><a href="#cb29-130" aria-hidden="true" tabindex="-1"></a>sum price, d</span>
<span id="cb29-131"><a href="#cb29-131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-132"><a href="#cb29-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-133"><a href="#cb29-133" aria-hidden="true" tabindex="-1"></a><span class="in">### Suite de commandes dans plusieurs blocs</span></span>
<span id="cb29-134"><a href="#cb29-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-135"><a href="#cb29-135" aria-hidden="true" tabindex="-1"></a><span class="in">Si on exécute la suite du programme dans un autre bloc:</span></span>
<span id="cb29-136"><a href="#cb29-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-137"><a href="#cb29-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata filename="```{Stata}" }</span></span>
<span id="cb29-138"><a href="#cb29-138" aria-hidden="true" tabindex="-1"></a><span class="in">regress price mpg turn if foreign==1</span></span>
<span id="cb29-139"><a href="#cb29-139" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-140"><a href="#cb29-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-141"><a href="#cb29-141" aria-hidden="true" tabindex="-1"></a>Cela ne marche pas.</span>
<span id="cb29-142"><a href="#cb29-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-143"><a href="#cb29-143" aria-hidden="true" tabindex="-1"></a>On doit ajouter **`collectcode=TRUE`** en entrée du premier bloc: **`{Stata, collectcode=TRUE }`**</span>
<span id="cb29-144"><a href="#cb29-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-145"><a href="#cb29-145" aria-hidden="true" tabindex="-1"></a><span class="in">````{verbatim}</span></span>
<span id="cb29-146"><a href="#cb29-146" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata,  collectcode=TRUE }</span></span>
<span id="cb29-147"><a href="#cb29-147" aria-hidden="true" tabindex="-1"></a><span class="in">sysuse auto, clear</span></span>
<span id="cb29-148"><a href="#cb29-148" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-149"><a href="#cb29-149" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb29-150"><a href="#cb29-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-151"><a href="#cb29-151" aria-hidden="true" tabindex="-1"></a>```{stata filename="```{Stata, collectcode=TRUE }",  collectcode=TRUE }</span>
<span id="cb29-152"><a href="#cb29-152" aria-hidden="true" tabindex="-1"></a>sysuse auto, clear</span>
<span id="cb29-153"><a href="#cb29-153" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-154"><a href="#cb29-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-155"><a href="#cb29-155" aria-hidden="true" tabindex="-1"></a><span class="in">Puis</span></span>
<span id="cb29-156"><a href="#cb29-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-157"><a href="#cb29-157" aria-hidden="true" tabindex="-1"></a><span class="in">```{stata filename="```{Stata}"}</span></span>
<span id="cb29-158"><a href="#cb29-158" aria-hidden="true" tabindex="-1"></a><span class="in">regress price mpg turn if foreign==1</span></span>
<span id="cb29-159"><a href="#cb29-159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-160"><a href="#cb29-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-161"><a href="#cb29-161" aria-hidden="true" tabindex="-1"></a><span class="fu">## Commandes externes</span></span>
<span id="cb29-162"><a href="#cb29-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-163"><a href="#cb29-163" aria-hidden="true" tabindex="-1"></a>Si vous avez modifié l'emplacement du répertoire *adoplus* et que l'appel à ce répertoire est dans un fichier profile.do (<span class="co">[</span><span class="ot">tutoriel</span><span class="co">](https://mthevenin.github.io/stata_programmation/profile/profile1.html)</span>), Statamarkdown ne sera pas capable d'exécuter les commande externes.   </span>
<span id="cb29-164"><a href="#cb29-164" aria-hidden="true" tabindex="-1"></a>La solution est simple: il suffit de coller votre fichier profile.do, normalement dans votre répertoire user, dans le répertoire du document que vous êtes en train de rédiger.</span>
<span id="cb29-165"><a href="#cb29-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-166"><a href="#cb29-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-167"><a href="#cb29-167" aria-hidden="true" tabindex="-1"></a><span class="fu">## Inserer un graphique</span></span>
<span id="cb29-168"><a href="#cb29-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-169"><a href="#cb29-169" aria-hidden="true" tabindex="-1"></a>Le graphique exporter avec  **`graph export`**. Il est conseillé de l'enregistrer dans le même répertoire que le document généré ou dans un sous répertoire. Pour l'insérer, il suffit d'utiliser l'intégration standard avec markdown: **`![nom graph](nom_graph.png){option}`** s'il est dans le même répertoire ou **`![nom graph](img/nom_graph.png){option}`** s'il se trouve dans un sous répertoire, par exemple  *img* </span>
<span id="cb29-170"><a href="#cb29-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-171"><a href="#cb29-171" aria-hidden="true" tabindex="-1"></a>```{stata filename="```{Stata, message=FALSE}", message=FALSE, warning=FALSE}</span>
<span id="cb29-172"><a href="#cb29-172" aria-hidden="true" tabindex="-1"></a>local mopts mc(%80) mlc(black) mlw(*.2) jitter(4)</span>
<span id="cb29-173"><a href="#cb29-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-174"><a href="#cb29-174" aria-hidden="true" tabindex="-1"></a>tw scatter price mpg if !foreign, `mopts' /// </span>
<span id="cb29-175"><a href="#cb29-175" aria-hidden="true" tabindex="-1"></a>|| scatter price mpg if  foreign, `mopts' /// </span>
<span id="cb29-176"><a href="#cb29-176" aria-hidden="true" tabindex="-1"></a>|| , legend(order(1 "Domestic" 2 "foreign") region(color(%0)) pos(11)) /// </span>
<span id="cb29-177"><a href="#cb29-177" aria-hidden="true" tabindex="-1"></a>     ylabel(, angle(0))  ///</span>
<span id="cb29-178"><a href="#cb29-178" aria-hidden="true" tabindex="-1"></a>     title("Graphique avec Statamarkown" "dans un document Quarto", pos(11))</span>
<span id="cb29-179"><a href="#cb29-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-180"><a href="#cb29-180" aria-hidden="true" tabindex="-1"></a>qui graph export "D:\D\Marc\SMS\STATA INED\Programmation\R\statamarkdown\g1.png", replace </span>
<span id="cb29-181"><a href="#cb29-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-182"><a href="#cb29-182" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-183"><a href="#cb29-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-184"><a href="#cb29-184" aria-hidden="true" tabindex="-1"></a><span class="in">```{r filename="Directement dans le document", eval=FALSE}</span></span>
<span id="cb29-185"><a href="#cb29-185" aria-hidden="true" tabindex="-1"></a><span class="in">![titre graph](g1.png){width=80%}{fig-align="left"}</span></span>
<span id="cb29-186"><a href="#cb29-186" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-187"><a href="#cb29-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-188"><a href="#cb29-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-189"><a href="#cb29-189" aria-hidden="true" tabindex="-1"></a><span class="al">![](g1.png)</span>{width=80%}</span>
<span id="cb29-190"><a href="#cb29-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-191"><a href="#cb29-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-192"><a href="#cb29-192" aria-hidden="true" tabindex="-1"></a><span class="fu">## Résultat de régression avec **`collect`**</span></span>
<span id="cb29-193"><a href="#cb29-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-194"><a href="#cb29-194" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Se reporter à la courte présention de **`collect`** (<span class="co">[</span><span class="ot">lien</span><span class="co">](https://mthevenin.github.io/stata_programmation/tableaux/intro.html)</span>) introduite avec la version 17 de Stata. On prendra le premier exemple.</span>
<span id="cb29-195"><a href="#cb29-195" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Pour ce document html on utilisera le package R **`htmltools`** pour insérer un tableau générer avec **`collect`** et exporter avec **`collect export`** en html. Pour la version pdf, le tableau sera de type *Latex*.  </span>
<span id="cb29-196"><a href="#cb29-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-197"><a href="#cb29-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-198"><a href="#cb29-198" aria-hidden="true" tabindex="-1"></a>**Installation de htmltools (R)**  </span>
<span id="cb29-199"><a href="#cb29-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-200"><a href="#cb29-200" aria-hidden="true" tabindex="-1"></a>```{r filename="```{r}" , eval=FALSE}</span>
<span id="cb29-201"><a href="#cb29-201" aria-hidden="true" tabindex="-1"></a>install.packages("htmltools")</span>
<span id="cb29-202"><a href="#cb29-202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-203"><a href="#cb29-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-204"><a href="#cb29-204" aria-hidden="true" tabindex="-1"></a><span class="in">**Chargement de htmltools (R)** </span></span>
<span id="cb29-205"><a href="#cb29-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-206"><a href="#cb29-206" aria-hidden="true" tabindex="-1"></a><span class="in">```{r filename="```{r, message=FALSE}", message=FALSE}</span></span>
<span id="cb29-207"><a href="#cb29-207" aria-hidden="true" tabindex="-1"></a><span class="in">library(htmltools)</span></span>
<span id="cb29-208"><a href="#cb29-208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-209"><a href="#cb29-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-210"><a href="#cb29-210" aria-hidden="true" tabindex="-1"></a><span class="fu">### Programme Stata</span></span>
<span id="cb29-211"><a href="#cb29-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-212"><a href="#cb29-212" aria-hidden="true" tabindex="-1"></a>```{stata filename="```{Stata, message=FALSE, warning=FALSE}", message=FALSE, warning=FALSE}</span>
<span id="cb29-213"><a href="#cb29-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-214"><a href="#cb29-214" aria-hidden="true" tabindex="-1"></a>qui use https://www.stata-press.com/data/r17/nhanes2l, clear</span>
<span id="cb29-215"><a href="#cb29-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-216"><a href="#cb29-216" aria-hidden="true" tabindex="-1"></a>qui collect clear</span>
<span id="cb29-217"><a href="#cb29-217" aria-hidden="true" tabindex="-1"></a>qui collect use multimod, replace</span>
<span id="cb29-218"><a href="#cb29-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-219"><a href="#cb29-219" aria-hidden="true" tabindex="-1"></a>qui: collect _r_b _r_se _r_p: regress bpsystol i.agegrp i.region</span>
<span id="cb29-220"><a href="#cb29-220" aria-hidden="true" tabindex="-1"></a>qui: collect _r_b _r_se _r_p: regress bpsystol i.agegrp i.region i.sex</span>
<span id="cb29-221"><a href="#cb29-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-222"><a href="#cb29-222" aria-hidden="true" tabindex="-1"></a>qui collect label values cmdset 1 "Modèle 1" 2 "Modèle 2" </span>
<span id="cb29-223"><a href="#cb29-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-224"><a href="#cb29-224" aria-hidden="true" tabindex="-1"></a>qui collect export "D:/D/Marc/SMS/STATA INED/Programmation/R/statamarkdown/ex1", as(html)     replace</span>
<span id="cb29-225"><a href="#cb29-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-226"><a href="#cb29-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-227"><a href="#cb29-227" aria-hidden="true" tabindex="-1"></a><span class="in">### Insertion du tableau avec htmltools</span></span>
<span id="cb29-228"><a href="#cb29-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-229"><a href="#cb29-229" aria-hidden="true" tabindex="-1"></a><span class="in">Directement dans un bloc de code de code: </span></span>
<span id="cb29-230"><a href="#cb29-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-231"><a href="#cb29-231" aria-hidden="true" tabindex="-1"></a><span class="in">````{verbatim}</span></span>
<span id="cb29-234"><a href="#cb29-234" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-235"><a href="#cb29-235" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Régression générée avec collect"</span></span>
<span id="cb29-236"><a href="#cb29-236" aria-hidden="true" tabindex="-1"></a><span class="in">htmltools::includeHTML("D:/D/Marc/SMS/STATA INED/Programmation/R/statamarkdown/ex1.html")</span></span>
<span id="cb29-237"><a href="#cb29-237" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-238"><a href="#cb29-238" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb29-239"><a href="#cb29-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-240"><a href="#cb29-240" aria-hidden="true" tabindex="-1"></a><span class="in">```{r filename="```{r}", echo=FALSE}</span></span>
<span id="cb29-241"><a href="#cb29-241" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Régression générée avec collect"</span></span>
<span id="cb29-242"><a href="#cb29-242" aria-hidden="true" tabindex="-1"></a><span class="in">htmltools::includeHTML("D:/D/Marc/SMS/STATA INED/Programmation/R/statamarkdown/ex1.html")</span></span>
<span id="cb29-243"><a href="#cb29-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-244"><a href="#cb29-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-245"><a href="#cb29-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-246"><a href="#cb29-246" aria-hidden="true" tabindex="-1"></a><span class="in">Un titre à été ajouté avec **`#| tbl-cap: "Régression générée avec collect"`**</span></span>
<span id="cb29-247"><a href="#cb29-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-248"><a href="#cb29-248" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Marc Thévenin - Ined-Sms - Mars 2022</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","openEffect":"zoom","loop":true,"closeEffect":"zoom","descPosition":"bottom"});</script>



</body></html>