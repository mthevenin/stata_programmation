<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.330">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marc Thevenin">

<title>Statamarkdown [RStudio]</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_fr/" rel="" target="">
 <span class="menu-text">Stata Ined</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_graphiques/" rel="" target="">
 <span class="menu-text">Graphiques</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_programmation/" rel="" target="">
 <span class="menu-text">Programmation</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Statamarkdown [RStudio]</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
        <div class="sidebar-tools-collapse tools-wide">
    <a href="../../about.html" title="Marc Thévenin" class="quarto-navigation-tool px-1" aria-label="Marc Thévenin"><i class="bi bi-"></i></a>
    <a href="https://github.com/mthevenin" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="mailto:marc.thevenin@ined.fr" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
    <a href="../../about.html" title="Marc Thévenin" class="quarto-navigation-tool px-1" aria-label="Marc Thévenin"><i class="bi bi-file-person"></i></a>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Formation introductive</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Présentation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Environnement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Le langage Stata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Les bases de données</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Les variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../formation/chapitre6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Opérations sur les bases</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">formation/chapitre7.qmd</span>
  </li>
          <li class="sidebar-item">
 <span class="menu-text">  </span>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Fichier profile</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../profile/profile1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Principe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../profile/profile2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exemple profile.do</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Need for speed</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../speedup/gtools/gtools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gtools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../speedup/frame/frame.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frame</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Super Macro World</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../macro/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Présentation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">C’est dans l’R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stata et R</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Edition des outputs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tableaux/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro - Collect</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#introduction-markdown-et-statamarkdown-dans-rstudio" id="toc-introduction-markdown-et-statamarkdown-dans-rstudio" class="nav-link active" data-scroll-target="#introduction-markdown-et-statamarkdown-dans-rstudio"><span class="header-section-number">1</span> Introduction: Markdown et Statamarkdown dans RStudio</a></li>
  <li><a href="#statmarkdown-de-doug-hemken" id="toc-statmarkdown-de-doug-hemken" class="nav-link" data-scroll-target="#statmarkdown-de-doug-hemken"><span class="header-section-number">2</span> Statmarkdown de Doug Hemken</a>
  <ul class="collapse">
  <li><a href="#ressources" id="toc-ressources" class="nav-link" data-scroll-target="#ressources"><span class="header-section-number">2.1</span> Ressources</a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">2.2</span> Installation</a></li>
  <li><a href="#exemple" id="toc-exemple" class="nav-link" data-scroll-target="#exemple"><span class="header-section-number">2.3</span> Exemple</a>
  <ul class="collapse">
  <li><a href="#suite-de-commandes-dans-un-bloc" id="toc-suite-de-commandes-dans-un-bloc" class="nav-link" data-scroll-target="#suite-de-commandes-dans-un-bloc"><span class="header-section-number">2.3.1</span> Suite de commandes dans un bloc</a></li>
  <li><a href="#suite-de-commandes-dans-plusieurs-blocs" id="toc-suite-de-commandes-dans-plusieurs-blocs" class="nav-link" data-scroll-target="#suite-de-commandes-dans-plusieurs-blocs"><span class="header-section-number">2.3.2</span> Suite de commandes dans plusieurs blocs</a></li>
  </ul></li>
  <li><a href="#commandes-externes" id="toc-commandes-externes" class="nav-link" data-scroll-target="#commandes-externes"><span class="header-section-number">2.4</span> Commandes externes</a></li>
  <li><a href="#inserer-un-graphique" id="toc-inserer-un-graphique" class="nav-link" data-scroll-target="#inserer-un-graphique"><span class="header-section-number">2.5</span> Inserer un graphique</a></li>
  <li><a href="#résultat-de-régression-avec-collect" id="toc-résultat-de-régression-avec-collect" class="nav-link" data-scroll-target="#résultat-de-régression-avec-collect"><span class="header-section-number">2.6</span> Résultat de régression avec <strong><code>collect</code></strong></a>
  <ul class="collapse">
  <li><a href="#programme-stata" id="toc-programme-stata" class="nav-link" data-scroll-target="#programme-stata"><span class="header-section-number">2.6.1</span> Programme Stata</a></li>
  <li><a href="#insertion-du-tableau-avec-input" id="toc-insertion-du-tableau-avec-input" class="nav-link" data-scroll-target="#insertion-du-tableau-avec-input"><span class="header-section-number">2.6.2</span> Insertion du tableau avec <code>\input</code></a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="statamarkdown_pdf.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statamarkdown [RStudio]</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://github.com/mthevenin"><strong><em>Marc Thevenin</em></strong></a> </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.ined.fr/">
            Institut National d’Etudes Démographiques
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2 May, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'Statamarkdown' a été compilé avec la version R 4.2.3</code></pre>
</div>
</div>
<p><strong><em>Remarque</em></strong>: à l’exception de l’insertion d’un tableau au format <em>Latex</em>, le document est quasiment mot pour mot identique à celui en format <em>html</em>.</p>
<section id="introduction-markdown-et-statamarkdown-dans-rstudio" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction: Markdown et Statamarkdown dans RStudio</h1>
<ul>
<li><strong>Markdown</strong>.
<ul>
<li>Ce n’est vraiment pas très compliqué, le but, mais il faut un minimum de pratique en édition avec <strong>markdown</strong> (md). Il y a pléthore de tutoriels (un exemple: <a href="https://www.markdownguide.org/cheat-sheet/" class="uri">https://www.markdownguide.org/cheat-sheet/</a>)</li>
<li>Stata permet d’exécuter dans un .do un programme documenté en md depuis de nombreuses années: se reporter par exemple à <a href="https://data.princeton.edu/stata/markdown">markstat</a> de <em>Germán Rodríguez</em>, de loin la solution la plus stisfaisante. C’est mon avis, mais les solutions dans l’environnement Stata sont et je pense resteront largement en deçà de celles proposée dans un environnement R (<em>Rmarkdown</em>, <em>Bookdown</em>).</li>
<li>La dernière évolution en date,<a href="https://quarto.org/"><strong>Quarto</strong></a>, continue de creuser le fossé, en particulier pour générer des documents nativement en Latex. Ce document, diffusé en pdf, est également mis à disposition en format html. Le code source est disponible sur github [lien]…..</li>
</ul></li>
<li><strong>La durée d’exécution</strong>
<ul>
<li>Cette présentation montre rapidement comment dans <em>Rstudio</em> on peut éditer un document en exécutant simulanément <em>Stata</em>. Les durée d’exécution ne sont malheureusement pas optimales malgré les améliorations récentes du logiciel. L’auteur du package Statamarkdown <em>Doug Hemken</em> l’indique clairement. Stata est exécuté en mode batch en s’ouvrant et se fermant systématiquement à chaque bloc de commandes. Cette durée d’exécution est encore plus élevée lorsqu’on compile un document en format pdf, donc nativement en <em>Latex</em>. Même si <code>Statamarkdown</code> présente un intérêt, je pense que l’ensemble du matériel d’analyse, comme les tableaux et graphiques, devrait resté produit sous environnement Stata, et dans un deuxième temps intégré au document.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Markdown versus Markup
</div>
</div>
<div class="callout-body-container callout-body">
<p>Le markdown est langage d’édition à balisage léger créer en 2002. <strong>Markdown</strong> parce qu’il existe du <strong>Markup</strong>, le plus célèbre étant le HTML (c’est le M), et avec Stata on a le très pénible <em>SMCL</em> (Stata Markup Control Langage).<br>
Le <em>Latex</em> n’est pas officiellement il me semble un langage d’édition de type Markup, mais il reste très gourmand en balises. Tel qu’il est intégré à <strong>Rmarkdown</strong> mais plus encore avec <strong>Quarto</strong>, le balisage Latex devient minimal pour ne pas dire inéxistant (<code>\newpage</code> et <code>\input</code> reste très utile).</p>
</div>
</div>
<p><strong>Bloc de code</strong></p>
<ul>
<li>Dans ce document les lignes de commandes seront bien évidemment reportées, ce qui n’est pas le cas si on souhaite par exemple éditer un article, un rapport, une thèse ou un ouvrage. Un bloc de codes ou un fragment de programme est ouvert avec <strong><code>{nom_langage, options}** et fermé par **</code></strong>. Les option <strong><code>echo=FALSE</code></strong>, <strong><code>warning=FALSE</code></strong> et <strong><code>message=FALSE</code></strong> permettent de ne pas afficher le programme et les messages qui peuvent être affichés dans l’output.</li>
<li>Si on souhaite cacher intégralement les résultats, on peut ajouter l’option (normalement <code>quielty</code> doit suffire ) <strong><code>results=FALSE</code></strong>.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>```{stata}</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Affichage dans le document:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span>  <span class="st">"{bf: *******AU SECOURS LE SMCL*******}"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> *******AU SECOURS LE SMCL*******</code></pre>
</div>
</div>
<p><strong>Sans affichage du programme: <code>echo=FALSE</code></strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>```{stata, echo=FALSE, warning=FALSE, message=FALSE}</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Affichage dans le document :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> *******AU SECOURS LE SMCL*******</code></pre>
</div>
</div>
<p><strong>Cacher les résultats: <code>result=FALSE</code></strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>```{stata, echo=FALSE, warning=FALSE, message=FALSE, results=FALSE}</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>di  "{bf: *******AU SECOURS LE SMCL*******}"</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Pas d’affichage dans le document</p>
<p>Dans la suite du document, les informations qui ouvrent le bloc de codes seront reportées sous forme de titre de cette zône, par exemple :</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{stata, warning=FALSE, message=FALSE, results=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span>  <span class="st">"{bf: *******AU SECOURS LE SMCL*******}"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
profile.do
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous avez des paramètres de session dans un fichier <em>profile.do</em> (<a href="https://mthevenin.github.io/stata_programmation/profile/profile1.html">tutoriel</a>), je conseille très vivement de mettre ce fichier dans le répertoire où se trouve le fichier que vous éditer avec <em>Rmarkdown</em>, <em>Bookdown</em> ou comme ici <em>Quarto</em>.<br>
Par exemple, si comme moi le répertoire <strong>adoplus</strong> des commandes externes a été déplacé et son emplacement chargé dans un fichier <em>profile</em>, Statamarkdown ne pourra pas chercher ces commandes et les exécuter.</p>
</div>
</div>
</section>
<section id="statmarkdown-de-doug-hemken" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Statmarkdown de Doug Hemken</h1>
<section id="ressources" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="ressources"><span class="header-section-number">2.1</span> Ressources</h2>
<ul>
<li><a href="https://cde.wisc.edu/staff/hemken-douglas/">Doug Hemken</a></li>
<li><a href="https://www.ssc.wisc.edu/~hemken/Stataworkshops/Statamarkdown/stata-and-r-markdown.html">Site tutoriel</a></li>
<li><a href="https://github.com/Hemken/Statamarkdown">Dépôt github</a></li>
</ul>
</section>
<section id="installation" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="installation"><span class="header-section-number">2.2</span> Installation</h2>
<p><strong>Installation du package</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">"hemken/Statamarkdown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Chargement de l’exécutable Stata</strong></p>
<p>Le code <code>R</code> qui suis est à utiliser systématiquement dans chaque document.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>```{r, echo=FALSE, message=FALSE}</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>library(Statamarkdown)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>stataexe &lt;- "C:/Program Files/Stata17/StataSE-64.exe"</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>knitr::opts_chunk$set(engine.path=list(stata=stataexe))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div style="page-break-after: always;"></div>
</section>
<section id="exemple" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="exemple"><span class="header-section-number">2.3</span> Exemple</h2>
<section id="suite-de-commandes-dans-un-bloc" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="suite-de-commandes-dans-un-bloc"><span class="header-section-number">2.3.1</span> Suite de commandes dans un bloc</h3>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto, <span class="kw">clear</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">describe</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> price, <span class="kw">d</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>(1978 automobile data)


Contains data from C:\PROGRA~1\Stata17\ado\base/a/auto.dta
 Observations:            74                  1978 automobile data
    Variables:            12                  13 Apr 2020 17:45
                                              (_dta has notes)
-------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
-------------------------------------------------------------------------------
make            str18   %-18s                 Make and model
price           int     %8.0gc                Price
mpg             int     %8.0g                 Mileage (mpg)
rep78           int     %8.0g                 Repair record 1978
headroom        float   %6.1f                 Headroom (in.)
trunk           int     %8.0g                 Trunk space (cu. ft.)
weight          int     %8.0gc                Weight (lbs.)
length          int     %8.0g                 Length (in.)
turn            int     %8.0g                 Turn circle (ft.)
displacement    int     %8.0g                 Displacement (cu. in.)
gear_ratio      float   %6.2f                 Gear ratio
foreign         byte    %8.0g      origin     Car origin
-------------------------------------------------------------------------------
Sorted by: foreign

                            Price
-------------------------------------------------------------
      Percentiles      Smallest
 1%         3291           3291
 5%         3748           3299
10%         3895           3667       Obs                  74
25%         4195           3748       Sum of wgt.          74

50%       5006.5                      Mean           6165.257
                        Largest       Std. dev.      2949.496
75%         6342          13466
90%        11385          13594       Variance        8699526
95%        13466          14500       Skewness       1.653434
99%        15906          15906       Kurtosis       4.819188</code></pre>
</div>
</div>
</section>
<section id="suite-de-commandes-dans-plusieurs-blocs" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="suite-de-commandes-dans-plusieurs-blocs"><span class="header-section-number">2.3.2</span> Suite de commandes dans plusieurs blocs</h3>
<p>Si on exécute la suite du programme dans un autre bloc:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">regress</span> price mpg turn <span class="kw">if</span> foreign==1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      Source |       SS           df       MS      Number of obs   =        22
-------------+----------------------------------   F(2, 19)        =      8.51
       Model |  68197168.3         2  34098584.2   Prob &gt; F        =    0.0023
    Residual |  76166044.4        19  4008739.18   R-squared       =    0.4724
-------------+----------------------------------   Adj R-squared   =    0.4169
       Total |   144363213        21   6874438.7   Root MSE        =    2002.2

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
         mpg |   -164.397     84.536    -1.94   0.067     -341.332      12.538
        turn |    607.204    372.318     1.63   0.119     -172.067    1386.475
       _cons |  -1.10e+04  14587.768    -0.76   0.458    -4.16e+04   19489.258
------------------------------------------------------------------------------</code></pre>
</div>
</div>
<p>Cela ne marche pas.</p>
<p>On doit ajouter <strong><code>collectcode=TRUE</code></strong> en entrée du premier bloc: <strong><code>{Stata, collectcode=TRUE }</code></strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>```{stata,  collectcode=TRUE }</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>sysuse auto, clear</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-collectcode="true">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata, collectcode=TRUE }</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> auto, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>(1978 automobile data)</code></pre>
</div>
</div>
<p>Puis</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">regress</span> price mpg turn <span class="kw">if</span> foreign==1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      Source |       SS           df       MS      Number of obs   =        22
-------------+----------------------------------   F(2, 19)        =      8.51
       Model |  68197168.3         2  34098584.2   Prob &gt; F        =    0.0023
    Residual |  76166044.4        19  4008739.18   R-squared       =    0.4724
-------------+----------------------------------   Adj R-squared   =    0.4169
       Total |   144363213        21   6874438.7   Root MSE        =    2002.2

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
         mpg |   -164.397     84.536    -1.94   0.067     -341.332      12.538
        turn |    607.204    372.318     1.63   0.119     -172.067    1386.475
       _cons |  -1.10e+04  14587.768    -0.76   0.458    -4.16e+04   19489.258
------------------------------------------------------------------------------</code></pre>
</div>
</div>
</section>
</section>
<section id="commandes-externes" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="commandes-externes"><span class="header-section-number">2.4</span> Commandes externes</h2>
<p>Si vous avez modifié l’emplacement du répertoire <em>adoplus</em> et que l’appel à ce répertoire est dans un fichier profile.do (<a href="https://mthevenin.github.io/stata_programmation/profile/profile1.html">tutoriel</a>), Statamarkdown ne sera pas capable d’exécuter les commande externes.<br>
La solution est simple: il suffit de coller votre fichier profile.do, normalement dans votre répertoire user, dans le répertoire du document que vous êtes en train de rédiger.</p>
</section>
<section id="inserer-un-graphique" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="inserer-un-graphique"><span class="header-section-number">2.5</span> Inserer un graphique</h2>
<p>Le graphique exporter avec <strong><code>graph export</code></strong>. Il est conseillé de l’enregistrer dans le même répertoire que le document généré ou dans un sous répertoire. Pour l’insérer, il suffit d’utiliser l’intégration standard avec markdown: <strong><code>![nom graph](nom_graph.png){option}</code></strong> s’il est dans le même répertoire ou <strong><code>![nom graph](img/nom_graph.png){option}</code></strong> s’il se trouve dans un sous répertoire, par exemple <em>img</em></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata, message=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> mopts mc(%80) mlc(<span class="bn">black</span>) mlw(*.2) jitter(4)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">tw</span> <span class="kw">scatter</span> price mpg <span class="kw">if</span> !foreign, <span class="ot">`mopts'</span> <span class="co">/// </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>|| <span class="kw">scatter</span> price mpg <span class="kw">if</span>  foreign, <span class="ot">`mopts'</span> <span class="co">/// </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>|| , <span class="bn">legend</span>(<span class="kw">order</span>(1 <span class="st">"Domestic"</span> 2 <span class="st">"foreign"</span>) region(<span class="kw">color</span>(%0)) pos(11)) <span class="co">/// </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>     <span class="kw">ylabel</span>(, angle(0))  <span class="co">///</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>     <span class="bn">title</span>(<span class="st">"Graphique avec Statamarkown"</span> <span class="st">"dans un document Quarto"</span>, pos(11))</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">graph</span> <span class="kw">export</span> <span class="co">///</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D:\D\Marc\SMS\STATA INED\Programmation\R\statamarkdown\g1.png"</span>, <span class="kw">replace</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Directement dans le document</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>[titre graph](g1.png){width<span class="ot">=</span><span class="dv">80</span>%}{fig<span class="sc">-</span>align<span class="ot">=</span><span class="st">"left"</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="g1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="g1.png" class="img-fluid figure-img" style="width:80.0%"></a></p>
</figure>
</div>
</section>
<section id="résultat-de-régression-avec-collect" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="résultat-de-régression-avec-collect"><span class="header-section-number">2.6</span> Résultat de régression avec <strong><code>collect</code></strong></h2>
<ul>
<li>Se reporter à la courte présention de <strong><code>collect</code></strong> (<a href="https://mthevenin.github.io/stata_programmation/tableaux/intro.html">lien</a>) introduite avec la version 17 de Stata. On prendra le premier exemple.</li>
<li>Pour ce document html on utilisera le package R <strong><code>htmltools</code></strong> pour insérer un tableau générer avec <strong><code>collect</code></strong> et exporter avec <strong><code>collect export</code></strong> en html. Pour la version pdf, le tableau sera de type <em>Latex</em>. <strong>On doit absolument ajouter l’option <code>tableonly</code> avec <code>collect export</code></strong>.</li>
</ul>
<p>:::callout-important</p>
<p>On doit absolument ajouter l’option <strong><code>tableonly</code></strong> avec <strong><code>collect export</code></strong>.</p>
<section id="programme-stata" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="programme-stata"><span class="header-section-number">2.6.1</span> Programme Stata</h3>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>```{Stata, message=FALSE, warning=FALSE}</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">use</span> https:<span class="co">//www.stata-press.com/data/r17/nhanes2l, clear</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">clear</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">use</span> multimod, <span class="kw">replace</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span>: collect _r_b _r_se _r_p: <span class="kw">regress</span> bpsystol i.agegrp i.region</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span>: collect _r_b _r_se _r_p: <span class="kw">regress</span> bpsystol i.agegrp i.region i.sex</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">label</span> <span class="kw">values</span> cmdset 1 <span class="st">"Modèle 1"</span> 2 <span class="st">"Modèle 2"</span> </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> collect <span class="kw">export</span> <span class="st">"D:/D/Marc/SMS/STATA INED/Programmation/R/statamarkdown/ex1"</span>, <span class="kw">as</span>(tex)  tableonly     <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
</section>
<section id="insertion-du-tableau-avec-input" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="insertion-du-tableau-avec-input"><span class="header-section-number">2.6.2</span> Insertion du tableau avec <code>\input</code></h3>
<p>Directement dans le corps de texte:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>\input{ex1}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Marc Thévenin / Ined-Sms / Mai 2023</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","loop":true,"descPosition":"bottom","openEffect":"zoom","closeEffect":"zoom"});</script>



</body></html>