<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Les variables</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../profile/profile1.html" rel="next">
<link href="../formation/index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">Programmation</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_fr/">Retour Stata-Ined</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.github.io/stata_graphiques/">Graphiques</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mthevenin"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:marc.thevenin@ined.fr"><i class="bi bi-envelope" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">A propos</a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Les variables</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Formation introductive</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/index.html" class="sidebar-item-text sidebar-link">Présentation</a>
  </div>
</li>
          <li class="sidebar-item">
  chapitre1.qmd
  </li>
          <li class="sidebar-item">
  chapitre2.qmd
  </li>
          <li class="sidebar-item">
  chapitre3.qmd
  </li>
          <li class="sidebar-item">
  chapitre4.qmd
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../formation/chapitre5.html" class="sidebar-item-text sidebar-link active">Les variables</a>
  </div>
</li>
          <li class="sidebar-item">
  chapitre6.qmd
  </li>
          <li class="sidebar-item">
  chapitre7.qmd
  </li>
          <li class="sidebar-item">
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">profile</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../profile/profile1.html" class="sidebar-item-text sidebar-link">Principe</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../profile/profile2.html" class="sidebar-item-text sidebar-link">Exemple profile.do</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">gtools et ftools</span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">Manipulation macros</span>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#types-et-format" id="toc-types-et-format" class="nav-link active" data-scroll-target="#types-et-format">Types et format</a>
  <ul class="collapse">
  <li><a href="#types" id="toc-types" class="nav-link" data-scroll-target="#types">Types</a></li>
  <li><a href="#format" id="toc-format" class="nav-link" data-scroll-target="#format">Format</a></li>
  <li><a href="#types-numérique-caractère" id="toc-types-numérique-caractère" class="nav-link" data-scroll-target="#types-numérique-caractère">Types numérique &lt;=&gt; caractère</a></li>
  </ul></li>
  <li><a href="#création-dune-variable" id="toc-création-dune-variable" class="nav-link" data-scroll-target="#création-dune-variable">Création d’une variable</a>
  <ul class="collapse">
  <li><a href="#generate---replace" id="toc-generate---replace" class="nav-link" data-scroll-target="#generate---replace">generate - replace</a></li>
  <li><a href="#egen" id="toc-egen" class="nav-link" data-scroll-target="#egen">egen</a></li>
  </ul></li>
  <li><a href="#les-variables-internes-de-comptage" id="toc-les-variables-internes-de-comptage" class="nav-link" data-scroll-target="#les-variables-internes-de-comptage">Les variables internes de comptage</a></li>
  <li><a href="#sélection-de-plusieurs-modalités-recodage" id="toc-sélection-de-plusieurs-modalités-recodage" class="nav-link" data-scroll-target="#sélection-de-plusieurs-modalités-recodage">Sélection de plusieurs modalités, recodage</a></li>
  <li><a href="#les-labels" id="toc-les-labels" class="nav-link" data-scroll-target="#les-labels">Les labels</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Les variables</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<style>div.res pre { background-color:#3B4D5B; color:white; font-weight: bold }</style>
<style>div.cod pre { background-color:#9F2042; color:white }</style>
<p><strong>[MAJ EN COURS]</strong></p>
<p><a href="https://github.com/mthevenin/formation_stata/blob/master/programmes/chapitre5.do"><strong>Programme du chapitre</strong></a></p>
<p><strong>Commandes et fonction introduites</strong><br>
<em>En italique, commandes externes</em></p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>SECTION</th>
<th>COMMANDES</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Types-formats</strong></td>
<td>recast - format - tostring - destring - decode - encode - <em>sencode</em></td>
</tr>
<tr class="even">
<td><strong>Création variable</strong></td>
<td>generate - replace - egen (exemple de fonction associée)</td>
</tr>
<tr class="odd">
<td><strong>Variables de comptage</strong></td>
<td>_n et _N</td>
</tr>
<tr class="even">
<td><strong>Sélection et recodage</strong></td>
<td>inlist - inrange - recode</td>
</tr>
<tr class="odd">
<td><strong>labels</strong></td>
<td>label variable - label define - label value - label list - label drop - <em>xaxis</em></td>
</tr>
</tbody>
</table>
<p>En italiques, commandes externe Pour accéder aux infomations sur les variables d’une base:</p>
<ul>
<li>Utiliser le <strong>variables manager</strong> ou la fenêtre d’information <strong>variables properties</strong> si elle est ancrée à l’interface. Ces deux outils permettent de faire des modifications et de récupérer la ligne de commande dans la fenêtre <em>command</em>. Le verrou de la fenêtre <strong>variables properties</strong> doit-être retiré .</li>
<li>Utiliser la commande <code>describe</code> [<code>des</code>] ou la commande <code>ds</code> pour un usage plus avancé (sélection de variables selon leur type par exemple).</li>
</ul>
<p><strong><em>Variables manager</em></strong><br>
<img src="img5/g1.png" class="img-fluid" style="width:60.0%"> <br></p>
<p><strong><em>Fenêtre properties à droite de l’interface principale (mode dévérouillé)</em></strong><br>
<img src="img5/g2.png" class="img-fluid" style="width:60.0%"></p>
<p><strong>Commande describe</strong></p>
<div class="cod">
<pre><code>sysuse auto, clear

describe</code></pre>
</div>
<div class="res">
<pre><code>Contains data from C:\Program Files\Stata17\ado\base/a/auto.dta
 Observations:            74                  1978 automobile data
    Variables:            12                  13 Apr 2020 17:45
                                              (_dta has notes)
----------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
----------------------------------------------------------------------
make            str18   %-18s                 Make and model
price           int     %8.0gc                Price
mpg             int     %8.0g                 Mileage (mpg)
rep78           int     %8.0g                 Repair record 1978
headroom        float   %6.1f                 Headroom (in.)
trunk           int     %8.0g                 Trunk space (cu. ft.)
weight          int     %8.0gc                Weight (lbs.)
length          int     %8.0g                 Length (in.)
turn            int     %8.0g                 Turn circle (ft.)
displacement    int     %8.0g                 Displacement (cu. in.)
gear_ratio      float   %6.2f                 Gear ratio
foreign         byte    %8.0g      origin     Car origin
----------------------------------------------------------------------</code></pre>
</div>
<section id="types-et-format" class="level1">
<h1>Types et format</h1>
<section id="types" class="level2">
<h2 class="anchored" data-anchor-id="types">Types</h2>
<p>Stata gère tous les types de variables: numérique, caractère, date. Un type de variable est un type de stockage.</p>
<ul>
<li>Types numériques: <em>float</em>, <em>long</em>, <em>double</em>, <em>int</em> et <em>byte</em>.</li>
<li>Types caractère: <em>str#</em> et <em>strL</em> (très grandes chaînes de caractères). # est la longueur de la chaîne de caractère, elle ne peut pas excéder 2046 pour le type <em>str</em>.</li>
</ul>
<p>Plus d’informations: <code>help data types</code></p>
<p>Modification du type de variable</p>
<ul>
<li>Optimisation du poids en mémoire avec <code>compress</code></li>
<li>Commande <strong><code>recast</code></strong></li>
</ul>
<p><strong><em>Optimisation du poids de la base</em></strong></p>
<div class="cod">
<pre><code>compress </code></pre>
</div>
<div class="res">
<pre><code>variable mpg was int now byte
variable rep78 was int now byte
variable trunk was int now byte
variable turn was int now byte
variable make was str18 now str17
  
(370 bytes saved)</code></pre>
</div>
<p><strong><em>Passage de la variable make en str3</em></strong></p>
<p>En réduisant le type, on va tronquer les chaînes de caractères qui ne garderont que les 3 premières lettres, à manupiler avec prudence donc. Pour cette opération, Stata impose une confirmation avec l’option <code>force</code>.</p>
<strong><em>Variable d’origine</em></strong>
<div class="cod">
<pre><code>des make 
list make in 1/10</code></pre>
</div>
<div class="res">
<pre><code>
Variable      Storage   Display    Value
    name         type    format    label      Variable label
------------------------------------------------------------
make            str18   %-18s                 Make and model


     +---------------+
     | make          |
     |---------------|
  1. | AMC Concord   |
  2. | AMC Pacer     |
  3. | AMC Spirit    |
  4. | Buick Century |
  5. | Buick Electra |
     |---------------|
  6. | Buick LeSabre |
  7. | Buick Opel    |
  8. | Buick Regal   |
  9. | Buick Riviera |
 10. | Buick Skylark |
     +---------------+</code></pre>
</div>
<p><strong><em>Modification du type</em></strong></p>
<div class="cod">
<pre><code>recast str3 make, force
des make
list make in 1/10</code></pre>
</div>
<div class="res">
<pre><code>Variable      Storage   Display    Value
    name         type    format    label      Variable label
------------------------------------------------------------
make            str3    %-9s                  Make and model

     +------+
     | make |
     |------|
  1. | AMC  |
  2. | AMC  |
  3. | AMC  |
  4. | Bui  |
  5. | Bui  |
     |------|
  6. | Bui  |
  7. | Bui  |
  8. | Bui  |
  9. | Bui  |
 10. | Bui  |
     +------+</code></pre>
</div>
</section>
<section id="format" class="level2">
<h2 class="anchored" data-anchor-id="format">Format</h2>
<p>Il s’agit du format d’affichage des valeurs des variables. Ils peuvent être modifiés sans que le type soit changé (décimales, alignement….).</p>
<p>Variables numérique:<br>
- format <em>g</em>: <em>général</em> (définition un peu obsure pour moi) - format <em>f</em>: <em>fixe</em> - plusieurs format d’affichage pour les variables de type dates: <em>%td</em> (date avec jour-mois-année), <em>%tm</em> (mois), <em>%tq</em> (trimestre), <em>%tw</em> (semaine). Les dates et leur manipulation sont un domaines très riche, et feront l’objet d’une courte présentation en fin de chapite.</p>
<p>On peut changer le format d’affichage avec la commande <strong><code>format</code></strong>. Si le format est de type général (g), il est préférable de passer à un format de type fixe (f) On peut un même format à une liste de variables.</p>
<div class="cod">
<pre><code>format %format varlist</code></pre>
</div>
<p><strong>Exemple: changement du nombre de décimales</strong></p>
<p>Dans la base <em>auto</em>, la variable <em>gear_ratio</em> est de format fixe à 2 décimales (%6.2f). Pour supprimer, à l’affichage, les deux décimales: afficher les valeurs sans décimales.</p>
<div class="cod">
<pre><code>list gear_ratio in 1/10</code></pre>
</div>
<div class="res">
<pre><code>     +----------+
     | gear_r~o |
     |----------|
  1. |     3.58 |
  2. |     2.53 |
  3. |     3.08 |
  4. |     2.93 |
  5. |     2.41 |
     |----------|
  6. |     2.73 |
  7. |     2.87 |
  8. |     2.93 |
  9. |     2.93 |
 10. |     3.08 |
     +----------+</code></pre>
</div>
<div class="cod">
<pre><code>format %6.0f gear_ratio</code></pre>
</div>
<div class="res">
<pre><code>     +----------+
     | gear_r~o |
     |----------|
  1. |        4 |
  2. |        3 |
  3. |        3 |
  4. |        3 |
  5. |        2 |
     |----------|
  6. |        3 |
  7. |        3 |
  8. |        3 |
  9. |        3 |
 10. |        3 |
     +----------+</code></pre>
</div>
<p><strong>Exemple: aligner le nombre décimal reporté avec <code>summarize</code> sur le format de la variable</strong></p>
<p>Avec l’option <code>format</code> appliquée à la commande <code>summarize</code> on peut automatiquement réduire le nombre de décimales reportées dans l’output</p>
<div class="cod">
<pre><code>sum gear_ratio
sum gear_ratio, d</code></pre>
</div>
<div class="res">
<pre><code>
    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
  gear_ratio |         74    3.014865    .4562871       2.19       3.89


                         Gear ratio
-------------------------------------------------------------
      Percentiles      Smallest
 1%         2.19           2.19
 5%         2.28           2.24
10%         2.43           2.26       Obs                  74
25%         2.73           2.28       Sum of wgt.          74

50%        2.955                      Mean           3.014865
                        Largest       Std. dev.      .4562871
75%         3.37           3.78
90%         3.72           3.78       Variance       .2081979
95%         3.78           3.81       Skewness       .2191658
99%         3.89           3.89       Kurtosis       2.101812</code></pre>
</div>
<p>Avec l’option <strong><code>format</code></strong></p>
<div class="cod">
<pre><code>sysuse auto, clear

sum gear_ratio format
sum gear_ratio, d format</code></pre>
</div>
<div class="res">
<pre><code>    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
  gear_ratio |         74        3.01        0.46       2.19       3.89

                         Gear ratio
-------------------------------------------------------------
      Percentiles      Smallest
 1%         2.19           2.19
 5%         2.28           2.24
10%         2.43           2.26       Obs                  74
25%         2.73           2.28       Sum of wgt.          74

50%         2.96                      Mean               3.01
                        Largest       Std. dev.          0.46
75%         3.37           3.78
90%         3.72           3.78       Variance           0.21
95%         3.78           3.81       Skewness           0.22
99%         3.89           3.89       Kurtosis           2.10
</code></pre>
</div>
</section>
<section id="types-numérique-caractère" class="level2">
<h2 class="anchored" data-anchor-id="types-numérique-caractère">Types numérique &lt;=&gt; caractère</h2>
<p>Il est possible de basculer d’un type caractère à un type numérique et inversement</p>
<p><strong>De numérique à caractère</strong></p>
<p><br> Si la variable numérique n’a pas de label affecté sur les modalités, ou qu’on ne veut pas conserver l’information données par les labels, on peut utiliser la commande <code>tostring</code>. On peut créer une nouvelle variable avec l’option <code>gen()</code> ou remplacer la variable numérique d’origine avec l’option <code>replace</code>. Une des deux options doit être nécessairement renseignée.</p>
<div class="cod">
<pre><code>  tostring [varlist], gen(nom_varlist)
  tostring [varlist], replace</code></pre>
</div>
<p>Exemple avec la variable <em>foreign</em> qui prend les valeur 0 et 1 avec les labels “domestic” (0) et “foreign” (1)</p>
<div class="cod">
<pre><code>tostring foreign, gen(foreign_str)
des foreign foreign_str

tab foreign foreign_str</code></pre>
</div>
<div class="res">
<pre><code>
Variable      Storage   Display    Value
    name         type    format    label      Variable label
------------------------------------------------------------
foreign         byte    %8.0g      origin     Car origin
foreign_str     str1    %9s                   Car origin


           |      Car origin
Car origin |         0          1 |     Total
-----------+----------------------+----------
  Domestic |        52          0 |        52 
   Foreign |         0         22 |        22 
-----------+----------------------+----------
     Total |        52         22 |        74 </code></pre>
</div>
<p>Si la variable numérique a des labels affectés aux modalités modalités et qu’on souhaite conserver cet information, on utilise la commande <strong><code>decode</code></strong></p>
<div class="cod">
<pre><code>  decode variable, gen(nom_var)</code></pre>
</div>
<p>Exemple avec la variable <em>foreign</em></p>
<div class="cod">
<pre><code>decode foreign, gen(foreign_str)

des foreign foreign_str

tab foreign_str
  </code></pre>
</div>
<div class="res">
<pre><code>Variable      Storage   Display    Value
    name         type    format    label      Variable label
---------------------------------------------------------------------------------------------------------------------------------------------------
foreign         byte    %8.0g      origin     Car origin
foreign_str     str8    %9s                   Car origin


 Car origin |      Freq.     Percent        Cum.
------------+-----------------------------------
   Domestic |         52       70.27       70.27
    Foreign |         22       29.73      100.00
------------+-----------------------------------
      Total |         74      100.00</code></pre>
</div>
<p><br></p>
<p><strong>De caractère à numérique</strong></p>
<p>Si la variable caractère est a une forme numerique (une suite de nombre comme des années, des âges…), on utilise la commande <code>destring</code>. Lorsqu’il y a des des valeurs manquantes à la variable, on doit uiliser l’option <code>force</code>.</p>
<div class="cod">
<pre><code> destring [varlist] , gen(nom_varlist) 
 destring [varlist] , replace [force]</code></pre>
</div>
<p>Exemple avec la variable <em>rep78</em> qui est transformé dans un premier temps en variables caractère avec <code>tostring</code> puis de nouveau transformé en format numérique avec <code>destring</code></p>
<div class="res">
<pre><code>tostring rep78, replace

destring rep78, replace</code></pre>
</div>
<p>Si la variable caractère n’est pas de forme numérique et que l’on souhaite récupérer les labels sur les modalités, on peut utiliser la commande <strong><code>encode</code></strong> ou la commande externe <strong><code>sencode</code></strong> (<code>net install st0043_2, force</code>). La seconde permet de remplacer directement la variable d’origine, option particulièrement pratique.. Egalement, cette commande permet plus de souplesse sur le codage de la variable (<code>help sencode</code> pour plus de détail).</p>
<p>Avec <code>encode</code> ou <code>sencode</code> sans l’option <code>gsort</code>, le numéro de la modalité suivra l’ordre alphabétique des chaînes de caractère de la variable: si la variable caractère à pour valeur (“Homme”, “Femme”), “femme” sera automatiquement codée 1 et “homme” 2.</p>
<div class="cod">
<pre><code>encode variable, gen(nom_variable)</code></pre>
</div>
<div class="cod">
<pre><code>sencode variable, gen(nom_variable) replace gsort()</code></pre>
</div>
<p>Exemple avec la variable <em>foreign_str</em> (variable caractère créée précédemment à partir de la variable foreign)</p>
<div class="cod">
<pre><code>encode foreign_str, gen(foreign2)

tab foreign2
tab foreign2, nolab</code></pre>
</div>
<div class="res">
<pre><code> Car origin |      Freq.     Percent        Cum.
------------+-----------------------------------
   Domestic |         52       70.27       70.27
    Foreign |         22       29.73      100.00
------------+-----------------------------------
      Total |         74      100.00


 Car origin |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         52       70.27       70.27
          2 |         22       29.73      100.00
------------+-----------------------------------
      Total |         74      100.00
</code></pre>
</div>
<p><br></p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Type de variable pour les modèles
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les variables de type caractères ne sont pas acceptées, Stata renvoie alors un message d’erreur avec <strong>no observation</strong>. Si c’est le cas, les commandes <code>destring</code> et <code>encode</code> vont s’avérer particulièrement utiles.</p>
</div>
</div>
</section>
</section>
<section id="création-dune-variable" class="level1">
<h1>Création d’une variable</h1>
<section id="generate---replace" class="level2">
<h2 class="anchored" data-anchor-id="generate---replace">generate - replace</h2>
<p>La création d’une nouvelle variable se fait avec la commande <code>generate</code> généralement tronquée jusqu’à <code>gen</code>.</p>
<strong><em>Syntaxe</em></strong>:
<div class="cod">
<pre><code>gen nom_variable=valeur/fonction [expression: if in inlist inrange...]</code></pre>
</div>
<p>Pour remplacer la valeur d’une valeur variable existante on utilise la commande <code>replace</code>. Le nom n’est malheureusement pas tronquable.</p>
<strong><em>Syntaxe</em></strong>:
<div class="cod">
<pre><code>replace nom_variable=valeur/fonction [expression: if in inlist inrange...]</code></pre>
</div>
<ul>
<li>On peut utiliser le préfixe <code>bysort</code></li>
<li>Pour utiliser une fonction mathématique (log, exp, .) =&gt; <code>help math_functions</code></li>
<li>Pour afficher la liste complète des fonctions (variables caractères, statistiques, pseudo nombre aléatoire, dates.): <code>help function</code></li>
</ul>
<p><strong>Rappel</strong>: attention entre l’opérateur d’affectation (<code>=</code>) et l’expression conditionnelle (<code>==</code>).</p>
<p><br></p>
<strong>Création d’une indicatrice (0,1)</strong><br>
<br> On peut rapidement générer des indicatrices (0,1) à partir d’une expression conditionnelle:
<div class="cod">
<pre><code>gen x= expression_conditionnelle</code></pre>
</div>
<p>Exemple avec la variable <em>rep78</em>. On génère la variable <em>rep2</em> qui prend la valeur 1 si <em>rep78</em>&gt;3, 0 sinon. Comme il y a des valeurs manquantes dans la variable d’origine, on corrige l’information pour l’indicatrice dont les valeurs manquantes ont été automatiquement affectées à la valeur 0.</p>
<div class="cod">
<pre><code>gen rep2 = rep78&gt;3 &amp; rep78&lt;.
replace rep2 = . if rep78==.
tab rep78 rep2</code></pre>
</div>
<div class="res">
<pre><code>   Repair  |
    record |               rep2
      1978 |         0          1          . |     Total
-----------+---------------------------------+----------
         1 |         2          0          0 |         2 
         2 |         8          0          0 |         8 
         3 |        30          0          0 |        30 
         4 |         0         18          0 |        18 
         5 |         0         11          0 |        11 
         . |         0          0          5 |         5 
-----------+---------------------------------+----------
     Total |        40         29          5 |        74 
</code></pre>
</div>
<p><br> Remarque: Avec la commande <code>tabulate</code> on peut créer une série d’indicatrices à partir d’une variable catégorielle avec l’option <code>gen(nom_variable)</code></p>
<div class="cod">
<pre><code>tab x, gen(nom_variable)</code></pre>
</div>
<p>Exemple avec la variable <em>foreign</em>. Avec <code>tabulate</code> on va générer deux indicatrices: <em>origine1</em> si <em>foreign</em>=0, et <em>origine2</em> si <em>foreign</em>=1. Un label à la variable est automatiquement créé indiquant la valeur de la variable d’origine.</p>
<div class="cod">
<pre><code>tab foreign, gen(origine)

des origine1 origine2

tab origine1 foreign
tab origine2 foreign</code></pre>
</div>
<div class="res">
<pre><code>
Variable      Storage   Display    Value
    name         type    format    label      Variable label
---------------------------------------------------------------
origine1        byte    %8.0g                 foreign==Domestic
origine2        byte    %8.0g                 foreign==Foreign


foreign==  |      Car origin
   Domestic|  Domestic    Foreign |     Total
-----------+----------------------+----------
         0 |         0         22 |        22 
         1 |        52          0 |        52 
-----------+----------------------+----------
     Total |        52         22 |        74 
     
     
foreign==  |      Car origin
   Foreign |  Domestic    Foreign |     Total
-----------+----------------------+----------
         0 |        52          0 |        52 
         1 |         0         22 |        22 
-----------+----------------------+----------
     Total |        52         22 |        74 
   
    </code></pre>
</div>
</section>
<section id="egen" class="level2">
<h2 class="anchored" data-anchor-id="egen">egen</h2>
<p><strong><code>egen</code></strong>: extented generate<br>
<strong><code>egenmore</code></strong>: package programmé par NJ.Cox qui ajoute des fonctions associée à <code>egen</code> [<code>ssc install egenmore</code>]</p>
<p>Réservé à l’utilisation de fonctions. Pour obtenir la liste <code>help egen</code>.<br>
<br></p>
<p><strong><em>Exemple</em></strong>: on va créer dans un premier la variable <em>mprice</em> qui reporte pour chaque observation la moyenne de la variable <em>price</em>. Dans un second temps, on va créer la variable <em>mprice_or</em>, mais avec le prix moyen des voitures selon leur origine (<em>foreign</em>). La fonction utilisée est la fonction <strong><code>mean()</code></strong>.</p>
<div class="cod">
<pre><code>egen mprice = mean(price)

list  make price mprice in 1/10</code></pre>
</div>
<div class="res">
<pre><code>    +-----------------------------------+
     | make             price     mprice |
     |-----------------------------------|
  1. | AMC Concord      4,099   6165.257 |
  2. | AMC Pacer        4,749   6165.257 |
  3. | AMC Spirit       3,799   6165.257 |
  4. | Buick Century    4,816   6165.257 |
  5. | Buick Electra    7,827   6165.257 |
     |-----------------------------------|
  6. | Buick LeSabre    5,788   6165.257 |
  7. | Buick Opel       4,453   6165.257 |
  8. | Buick Regal      5,189   6165.257 |
  9. | Buick Riviera   10,372   6165.257 |
 10. | Buick Skylark    4,082   6165.257 |
     +-----------------------------------+</code></pre>
</div>
<div class="cod">
<pre><code>bysort foreign: egen mprice_or = mean(price)

list  make price mprice in 1/5
list  make price mprice in 66/70</code></pre>
</div>
<div class="res">
<pre><code>     +----------------------------------------------+
     | make            price     mprice   mprice-or |
     |----------------------------------------------|
  1. | AMC Concord     4,099   6165.257    6072.423 |
  2. | AMC Pacer       4,749   6165.257    6072.423 |
  3. | AMC Spirit      3,799   6165.257    6072.423 |
  4. | Buick Century   4,816   6165.257    6072.423 |
  5. | Buick Electra   7,827   6165.257    6072.423 |
     +----------------------------------------------+
 66. | Subaru           3,798   6165.257   6384.682 |
 67. | Toyota Celica    5,899   6165.257   6384.682 |
 68. | Toyota Corolla   3,748   6165.257   6384.682 |
 69. | Toyota Corona    5,719   6165.257   6384.682 |
 70. | VW Dasher        7,140   6165.257   6384.682 |
     +----------------------------------------------+</code></pre>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Les fonctions <code>sum()</code> et <code>total()</code>**
</div>
</div>
<div class="callout-body-container callout-body">
<p>Sans aucune explication, la fonction <code>sum()</code> qui permet d’obtenir une somme incrémentale n’est pas associée à <code>egen</code> mais à <code>generate</code>. En revanche la fonction <code>total()</code> est associée à <code>egen</code>. Il faut le retenir.</p>
<p><strong>Exemple</strong>: on veut créer un identifiant numérique (variable <em>id</em>) pour chaque voiture (dans la base on a une seule voiture par nom de voiture).</p>
<div class="cod">
<pre><code>gen x = 1 
gen id = sum(x)

list id make in 1/5
list id make in 66/70</code></pre>
</div>
<div class="res">
<pre><code>     +---------------------+
     | id   make           |
     |---------------------|
  1. |  1   AMC Concord    |
  2. |  2   AMC Pacer      |
  3. |  3   AMC Spirit     |
  4. |  4   Buick Century  |
  5. |  5   Buick Electra  |
     +------------ --------+
 66. | 66   Subaru         |
 67. | 67   Toyota Celica  |
 68. | 68   Toyota Corolla |
 69. | 69   Toyota Corona  |
 70. | 70   VW Dasher      |
     +---------------------+</code></pre>
</div>
<p>Si on veut reporter le nombre total d’observations dans la base (variable <em>N</em>), avec la fonction <code>total</code>:</p>
<div class="cod">
<pre><code>egen N = total(x)

list id N make in 1/5
list id N make in 66/70</code></pre>
</div>
<div class="res">
<pre><code>     +----------------------- --+
     | id    N   make           |
     |--------------------------|
  1. |  1   74   AMC Concord    |
  2. |  2   74   AMC Pacer      |
  3. |  3   74   AMC Spirit     |
  4. |  4   74   Buick Century  |
  5. |  5   74   Buick Electra  |
     +--------------------------+
 66. | 66   74   Subaru         |
 67. | 67   74   Toyota Celica  |
 68. | 68   74   Toyota Corolla |
 69. | 69   74   Toyota Corona  |
 70. | 70   74   VW Dasher      |
     +--------------------------+</code></pre>
</div>
</div>
</div>
<p>On va le voir, ces deux variables qui ont été générées peuvent l’être directement avec les <em>variables internes dites de comptage</em>.</p>
<p><strong>[maj au 01/07/2022]</strong></p>
</section>
</section>
<section id="les-variables-internes-de-comptage" class="level1">
<h1>Les variables internes de comptage</h1>
<p>Très utile avec des données longitudinales, de durées ou toute base avec des données avec cluster. <br></p>
<p>Deux variables de comptage: <code>_n</code> et <code>_N</code><br>
<br></p>
<ul>
<li><strong><code>_n</code></strong> : renvoie le rang de l’observation<br>
</li>
<li><strong><code>_N</code></strong>: renvoie le nombre total d’observations</li>
</ul>
<p><strong>Application</strong>: On veut créer un identifiant sur l’ensemble des observations de la base auto.</p>
<div class="cod">
<pre><code>gen id = _n
list make foreign id in 1/10</code></pre>
</div>
<div class="res">
<pre><code>     +-------------------------------+
     | make             foreign   id |
     |-------------------------------|
  1. | AMC Concord     Domestic    1 |
  2. | AMC Pacer       Domestic    2 |
  3. | AMC Spirit      Domestic    3 |
  4. | Buick Century   Domestic    4 |
  5. | Buick Electra   Domestic    5 |
     |-------------------------------|
  6. | Buick LeSabre   Domestic    6 |
  7. | Buick Opel      Domestic    7 |
  8. | Buick Regal     Domestic    8 |
  9. | Buick Riviera   Domestic    9 |
 10. | Buick Skylark   Domestic   10 |
     +-------------------------------+</code></pre>
</div>
<p><strong>lead &amp; lag</strong></p>
<p>Par défaut, pour toutes les instructions le rang sélectionné est celui de la ligne de l’observation x=x[_n]</p>
<ul>
<li>Lag(-1): Sélection du rang inférieur d’une variable x: <strong><span class="math inline">\(x=x[_n-1]\)</span></strong>. Remarque: la première observation est une valeur manquante.</li>
<li>lead(+1): Sélection du rang supérieur d’une variable x: <strong><span class="math inline">\(x=x[_n-1]\)</span></strong>. Remarque: la dernière observation est une valeur manquante.</li>
</ul>
<div class="cod">
<pre><code>gen lag_make  = make[_n-1]
gen lead_make = make[_n+1]

list make lag_make lead_make in 1/10</code></pre>
</div>
<div class="cod">
<pre><code>     +-----------------------------------------------+
     | make                 lag_make       lead_make |
     |-----------------------------------------------|
  1. | AMC Concord                         AMC Pacer |
  2. | AMC Pacer         AMC Concord      AMC Spirit |
  3. | AMC Spirit          AMC Pacer   Buick Century |
  4. | Buick Century      AMC Spirit   Buick Electra |
  5. | Buick Electra   Buick Century   Buick LeSabre |
     |-----------------------------------------------|
  6. | Buick LeSabre   Buick Electra      Buick Opel |
  7. | Buick Opel      Buick LeSabre     Buick Regal |
  8. | Buick Regal        Buick Opel   Buick Riviera |
  9. | Buick Riviera     Buick Regal   Buick Skylark |
 10. | Buick Skylark   Buick Riviera    Cad. Deville |
     +-----------------------------------------------+</code></pre>
</div>
</section>
<section id="sélection-de-plusieurs-modalités-recodage" class="level1">
<h1>Sélection de plusieurs modalités, recodage</h1>
<p><strong>inlist</strong><br>
Pour sélectionner plusieurs modalités d’une variable dans une expression conditionnelle <code>inlist(variable, valeur1, valeur2,..)</code>.<br>
Utile si la variable n’est pas de type ordinale.<br>
Exemple: <code>gen Y=1 if inlist(X,1,3,6,10)</code><br>
L’expression est hélas toujours limitée à 10 valeurs pour les variables caractères.<br>
<br></p>
<p><strong>inrange</strong><br>
Pour sélectionner un intervalle dans une expression <code>inrange(variable, valeur1,valeur2)</code> avec <span class="math inline">\(valeur1&lt;valeur2\)</span>.<br>
Exemple: <code>gen Y= inrange(X,5,10)</code> pour obtenir <span class="math inline">\(Y=1\)</span> si <span class="math inline">\(50\leq x\leq 10\)</span> 0 sinon.<br>
<br> <strong>recode</strong><br>
Permet de changer les valeurs d’une variable numérique:</p>
<p>`recode variable (anciennes_valeurs=nouvelle_valeur) (ancienne_valeurs=nouvelles_valeur)…..```</p>
<p><br> <strong>Application</strong>: recoder la variable foreign 0=&gt;1 et 1=&gt;2.</p>
</section>
<section id="les-labels" class="level1">
<h1>Les labels</h1>
<p>La création et la modification peut se faire directement via la boite de dialogue du <strong>variable manager</strong>.</p>
<p><br> <strong>Label des variables</strong><br>
<br> Syntaxe</p>
<pre><code>label nom_variable "label" </code></pre>
<p>On peut modifier/écraser un label existant</p>
<p>Exemple</p>
<pre><code>des foreign
label foreign "Origine de la voiture"
des foreign</code></pre>
<p><strong>Label sur les modalités des variables</strong><br>
<br> Deux étapes: la création des label et leurs affectation à une ou plusieurs variables. <br> <strong>Création du label</strong>: <code>label define</code><br>
<br> Syntaxe:</p>
<pre><code>label define nom_label val1 "label1" val2 "label2"... [,modify]</code></pre>
<p>Exemple variable binaire (0,1) labélisée “No-Yes” avec comme nom de label NY : <code>label define NY 0 "non" 1 "oui"</code></p>
<p>S’il y a beaucoup de modalités à labéliser, on peut affecter ligne par ligne un label par modalité et utiliser l’option <code>modify</code></p>
<pre><code>label define nom_label 1 "nom1", modify
label define nom_label 2 "nom2", modify
label define nom_label 3 "nom3", modify
label define nom_label 4 "nom2", modify</code></pre>
<p><strong>Affectation du label</strong>: <code>label value</code><br>
<br> Syntaxe</p>
<pre><code>label value nom_variable nom_label</code></pre>
<p><strong>Application</strong>: créer une vaiariable qui regroupe les valeurs (1,2) de la varble rep78. Affecter un label à la variable (au choix) et des labels aux modalités (au choix).</p>
<p><br></p>
<p><strong>Fichiers de labels et multilangue</strong></p>
<p><strong>label save</strong><br>
On peut générer un fichier (.do) donnant le programme qui génère les labels (existants) d’une base: commande <code>label save</code> (par le menu: data =&gt; data utilities =&gt; label utilities =&gt; save labels as do file).<br>
<br> <strong>multilangue</strong><br>
Pour des enquêtes internationales, on peut de créer des labels en plusieurs langues switcher d’une langue à l’autre (exemple MAFE l’Ined). La commande doit être installée, elle est externe à Stata (<code>ssc install mlanguage</code> - auteur Jeroen Weesie).</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../formation/index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Présentation</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../profile/profile1.html" class="pagination-link">
        <span class="nav-page-text">Principe</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Marc Thévenin - Ined-Sms - Août 2022</div>
  </div>
</footer>



</body></html>